<div class="m-333">
    <!-- <span fxFlex></span> -->
    <button mat-raised-button class="mb-05" color="primary" (click)="openPopUp(undefined, true)">Nueva carpeta</button>
    <mat-divider [vertical]="true"></mat-divider>
    <mat-form-field style="margin-top: 5px;">
      <mat-label>Obra social</mat-label>
      <mat-select matInput  [(value)]="prestador">
        <mat-option 
        (click)="deletePrestador()">
        Todos
        </mat-option>
        <mat-option 
          *ngFor="let prestador of prestadores"
          [value]="prestador.nombre"
          (click)="query['prestador'] = prestador._id">
          {{prestador['nombre']}}
        </mat-option>
      </mat-select>
    </mat-form-field>
    <mat-form-field style="margin-top: 5px;">
      <mat-label>Mes</mat-label>
        <mat-select matInput
          [(value)]="query['mes']">
          <mat-option 
            (click)="deleteMes()">
            Todos
          </mat-option>
          <mat-option 
            *ngFor="let mes of meses"
            [value]="mes"
            (click)="query['mes'] = mes">
            {{mes}}
          </mat-option>
        </mat-select>
    </mat-form-field>
    <mat-form-field style="margin-top: 5px;">
      <mat-label>Año</mat-label>
      <mat-select matInput  [(value)]="query['ano']">
        <mat-option 
        (click)="deleteAno()">
        Todos
        </mat-option>
        <mat-option 
          *ngFor="let ano of anos"
          [value]="ano"
          (click)="query['ano'] = ano">
          {{ano}}
        </mat-option>
      </mat-select>
    </mat-form-field>
    <mat-form-field style="margin-top: 5px; margin-right: 5px;">
      <mat-label>Paciente</mat-label>
      <mat-select matInput  [(value)]="paciente">
        <mat-option 
        (click)="deletePaciente()">
        Todos
        </mat-option>
        <mat-option 
          *ngFor="let paciente of pacientes"
          [value]="paciente.apellido+' '+paciente.nombre"
          (click)="query['paciente'] = paciente._id">
          {{paciente['apellido']}} {{paciente['nombre']}}
        </mat-option>
      </mat-select>
    </mat-form-field>
    <button mat-raised-button class="mb-05" (click)="search()" color="primary">Buscar</button>
  </div>
  <mat-card class="p-0" [@animate]="{value:'*',params:{y:'50px',delay:'300ms'}}">
    <mat-card-content class="p-0">
      <ngx-datatable
            class="material ml-0 mr-0"
            [rows]="folders"
            [columnMode]="'force'"
            [headerHeight]="50"
            [footerHeight]="50"
            [scrollbarH]="true"
            [limit]="10"
            [rowHeight]="50"
            >
            <ngx-datatable-column name="Nombre" [flexGrow]="1">
              <ng-template let-row="row" ngx-datatable-cell-template>
                {{ row?.nombre }}
              </ng-template>
            </ngx-datatable-column>
            <ngx-datatable-column name="Mes" [flexGrow]="1">
              <ng-template let-row="row" ngx-datatable-cell-template>
                {{ row?.mes }}
              </ng-template>
            </ngx-datatable-column>
            <ngx-datatable-column name="Año" [flexGrow]="1">
              <ng-template let-row="row" ngx-datatable-cell-template>
                {{ row?.ano }}
              </ng-template>
            </ngx-datatable-column>
            <ngx-datatable-column name="Estado" [flexGrow]="1">
              <ng-template let-row="row" ngx-datatable-cell-template>
                {{row?.estado}}
              </ng-template>
            </ngx-datatable-column>
            <ngx-datatable-column name="Documentos" [flexGrow]="1">
              <ng-template let-row="row" ngx-datatable-cell-template>
                {{row?.documentos}}
              </ng-template>
            </ngx-datatable-column>
            <ngx-datatable-column name="Acciones" [flexGrow]="1">
              <ng-template let-row="row" ngx-datatable-cell-template>
                <button  mat-icon-button mat-sm-button color="primary" class="mr-1" (click)="openPopUpSubirArchivo(row)"><mat-icon>file_upload</mat-icon></button>
                <button mat-icon-button mat-sm-button color="primary" class="mr-1" (click)="openPopUpVerArchivo(row)"><mat-icon>insert_drive_file</mat-icon></button>

                
                <button mat-icon-button mat-sm-button color="accent" class="mr-1" (click)="openPopUp(row)"><mat-icon>edit</mat-icon></button>
                <button mat-icon-button mat-sm-button color="warn" (click)="deleteItem(row)"><mat-icon>delete</mat-icon></button> 
              </ng-template>
            </ngx-datatable-column>
      </ngx-datatable>
    </mat-card-content>
  </mat-card>
  