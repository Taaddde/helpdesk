function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function _iterableToArrayLimit(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var i=[],n=!0,o=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(i.push(a.value),!e||i.length!==e);n=!0);}catch(c){o=!0,r=c}finally{try{n||null==s.return||s.return()}finally{if(o)throw r}}return i}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,i){return e&&_defineProperties(t.prototype,e),i&&_defineProperties(t,i),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"3uMe":function(t,e,i){"use strict";i.d(e,"a",(function(){return a})),i("AJX/");var n=i("YFeJ"),o=i("tk/3"),r=i("fXoL"),a=function(){var t=function(){function t(e){_classCallCheck(this,t),this._httpClient=e,this.httpOptions={headers:new o.e({"Content-Type":"application/json",Authorization:"null"})},this.url=n.a.url}return _createClass(t,[{key:"add",value:function(t,e){var i=JSON.stringify(e);return this.httpOptions.headers=this.httpOptions.headers.set("Authorization",t),this._httpClient.post(this.url+"team/add",i,this.httpOptions)}},{key:"edit",value:function(t,e,i){var n=JSON.stringify(i);return this.httpOptions.headers=this.httpOptions.headers.set("Authorization",t),this._httpClient.put(this.url+"team/update/"+e,n,this.httpOptions)}},{key:"addUser",value:function(t,e,i){var n={user:i};return this.httpOptions.headers=this.httpOptions.headers.set("Authorization",t),this._httpClient.put(this.url+"team/add-user/"+e,n,this.httpOptions)}},{key:"removeUser",value:function(t,e,i){return this.httpOptions.headers=this.httpOptions.headers.set("Authorization",t),this._httpClient.put(this.url+"team/remove-user/"+e,{user:i},this.httpOptions)}},{key:"delete",value:function(t,e){return this.httpOptions.headers=this.httpOptions.headers.set("Authorization",t),this._httpClient.delete(this.url+"team/delete/"+e,this.httpOptions)}},{key:"getForName",value:function(t,e,i){return this.httpOptions.headers=this.httpOptions.headers.set("Authorization",t),this._httpClient.get(this.url+"team/for-name/"+e+"/"+i,this.httpOptions)}},{key:"getList",value:function(t,e){return this.httpOptions.headers=this.httpOptions.headers.set("Authorization",t),this._httpClient.get(this.url+"team/teams/"+e,this.httpOptions)}},{key:"getTeamsOfUser",value:function(t,e){return this.httpOptions.headers=this.httpOptions.headers.set("Authorization",t),this._httpClient.get(this.url+"team/for-user/"+e,this.httpOptions)}},{key:"getAgentsList",value:function(t,e,i){return this.httpOptions.headers=this.httpOptions.headers.set("Authorization",t),this._httpClient.get(this.url+"team/agents/"+e+"/"+i,this.httpOptions)}},{key:"getOne",value:function(t,e){return this.httpOptions.headers=this.httpOptions.headers.set("Authorization",t),this._httpClient.get(this.url+"team/team/"+e,this.httpOptions)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.fc(o.c))},t.\u0275prov=r.Rb({token:t,factory:t.\u0275fac}),t}()},Q2c7:function(t,e,i){"use strict";i.d(e,"a",(function(){return a})),i("AJX/");var n=i("YFeJ"),o=i("fXoL"),r=i("qlzE"),a=function(){var t=function(){function t(e){_classCallCheck(this,t),this._http=e,this.url=n.a.url}return _createClass(t,[{key:"makeFileRequest",value:function(t,e,i,n,o){return new Promise((function(e,r){for(var a=new FormData,s=new XMLHttpRequest,c=0;c<i.length;c++)a.append(o,i[c],i[c].name);s.onreadystatechange=function(){4==s.readyState&&(200==s.status?e(JSON.parse(s.response)):r(s.response))},s.open("POST",t,!0),s.setRequestHeader("Authorization",n),s.send(a)}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(o.fc(r.a))},t.\u0275prov=o.Rb({token:t,factory:t.\u0275fac}),t}()},y64J:function(t,e,i){"use strict";i.r(e);var n,o,r=i("bFKe"),a=i("3Pt+"),s=i("bTqV"),c=i("bSwM"),l=i("A5z7"),u=i("FKr1"),d=i("iadO"),h=i("0IaG"),p=i("f0Cb"),f=i("kmnG"),g=i("NFeN"),_=i("qFsG"),m=i("STbY"),v=i("/t3+"),b=i("Qu3c"),y=i("ofXK"),k=i("7ZcW"),D=i("tyNb"),x=i("2Vo4"),w=i("fXoL"),C=i("tk/3"),T=((n=function(){function t(e){_classCallCheck(this,t),this.http=e,this.searchTerm=new x.a("")}return _createClass(t,[{key:"getTodoList",value:function(){return this.http.get("/api/todoList")}},{key:"getTodoById",value:function(t){return this.http.get("/api/todoList/"+t)}},{key:"getTagList",value:function(){return this.http.get("/api/todoTag")}},{key:"updateSearchTerm",value:function(t){this.searchTerm.next(t)}},{key:"getSearchTerm",value:function(){return this.searchTerm}},{key:"saveTag",value:function(t){return this.http.post("/api/todoTag/",t)}},{key:"deleteTag",value:function(t){this.http.delete("/api/todoTag/"+t.id).subscribe((function(t){}))}},{key:"deleteTodo",value:function(t){return this.http.delete("/api/todoList/"+t.id)}},{key:"updateTodo",value:function(t){var e;return t.selected=!1,t.id?e=this.http.put("/api/todoList/"+t.id,t):(t.id=1e6*Math.random(),e=this.http.post("/api/todoList/",t)),this.sub?(this.sub.unsubscribe(),this.sub=e.subscribe((function(t){}))):this.sub=e.subscribe((function(t){})),e}}]),t}()).\u0275fac=function(t){return new(t||n)(w.fc(C.c))},n.\u0275prov=w.Rb({token:n,factory:n.\u0275fac,providedIn:"root"}),n),S=i("XiUz"),O=((o=function(){function t(e){_classCallCheck(this,t),this.todoService=e}return _createClass(t,[{key:"ngOnInit",value:function(){this.updateSearchTerm("")}},{key:"updateSearchTerm",value:function(t){this.todoService.updateSearchTerm(t)}}]),t}()).\u0275fac=function(t){return new(t||o)(w.Vb(T))},o.\u0275cmp=w.Pb({type:o,selectors:[["app-todo"]],decls:13,vars:0,consts:[[1,"page-layout","overflow-hidden","pb-8"],[1,"header-bg","dark-blue"],[1,"content"],["fxLayout","row wrap","fxLayoutAlign","center center",1,"content-header"],["fxFlex","1 1 0%",1,"search-box","mat-elevation-z2"],["mat-icon-button",""],["type","text","placeholder","Buscar una tarea",3,"keyup"],["serachTerm",""],[1,"content-body"],[1,"content-card","default-bg","height-100vh",3,"perfectScrollbar"]],template:function(t,e){if(1&t){var i=w.cc();w.bc(0,"div",0),w.Wb(1,"div",1),w.bc(2,"div",2),w.bc(3,"div",3),w.bc(4,"div",4),w.bc(5,"button",5),w.bc(6,"mat-icon"),w.Vc(7,"search"),w.ac(),w.ac(),w.bc(8,"input",6,7),w.jc("keyup",(function(t){w.Mc(i);var n=w.Jc(9);return e.updateSearchTerm(n.value)})),w.ac(),w.ac(),w.ac(),w.bc(10,"div",8),w.bc(11,"div",9),w.Wb(12,"router-outlet"),w.ac(),w.ac(),w.ac(),w.ac()}},directives:[S.d,S.c,S.b,s.b,g.a,r.b,D.l],styles:[""],changeDetection:0}),o),R=i("vxfF"),L=i("nLfN"),P=i("8LU1"),I=i("XNiG"),E=i("quSY"),A=i("l5mm"),M=i("eNwd"),V=i("HDdC"),j=i("VRyK"),F=i("JX91"),G=i("1G5W"),N=i("lJxs"),z=i("IzEk"),B=i("vkgz"),W=i("eIep"),H=i("cH1L");function Y(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function q(t,e){var i=e?"":"none";Y(t.style,{touchAction:e?"":"none",webkitUserDrag:e?"":"none",webkitTapHighlightColor:e?"":"transparent",userSelect:i,msUserSelect:i,webkitUserSelect:i,MozUserSelect:i})}function J(t){var e=t.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(t)*e}function U(t,e){return t.getPropertyValue(e).split(",").map((function(t){return t.trim()}))}var $=Object(L.g)({passive:!0}),X=Object(L.g)({passive:!1}),Z=function(){function t(e,i,n,o,r,a){var s=this;_classCallCheck(this,t),this._config=i,this._document=n,this._ngZone=o,this._viewportRuler=r,this._dragDropRegistry=a,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._moveEvents=new I.a,this._pointerMoveSubscription=E.a.EMPTY,this._pointerUpSubscription=E.a.EMPTY,this._scrollSubscription=E.a.EMPTY,this._resizeSubscription=E.a.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new I.a,this.started=new I.a,this.released=new I.a,this.ended=new I.a,this.entered=new I.a,this.exited=new I.a,this.dropped=new I.a,this.moved=this._moveEvents.asObservable(),this._pointerDown=function(t){if(s.beforeStarted.next(),s._handles.length){var e=s._handles.find((function(e){var i=t.target;return!!i&&(i===e||e.contains(i))}));!e||s._disabledHandles.has(e)||s.disabled||s._initializeDragSequence(e,t)}else s.disabled||s._initializeDragSequence(s._rootElement,t)},this._pointerMove=function(t){if(t.preventDefault(),s._hasStartedDragging){s._boundaryElement&&(s._previewRect&&(s._previewRect.width||s._previewRect.height)||(s._previewRect=(s._preview||s._rootElement).getBoundingClientRect()));var e=s._getConstrainedPointerPosition(t);if(s._hasMoved=!0,s._updatePointerDirectionDelta(e),s._dropContainer)s._updateActiveDropContainer(e);else{var i=s._activeTransform;i.x=e.x-s._pickupPositionOnPage.x+s._passiveTransform.x,i.y=e.y-s._pickupPositionOnPage.y+s._passiveTransform.y,s._applyRootElementTransform(i.x,i.y),"undefined"!=typeof SVGElement&&s._rootElement instanceof SVGElement&&s._rootElement.setAttribute("transform","translate(".concat(i.x," ").concat(i.y,")"))}s._moveEvents.observers.length&&s._ngZone.run((function(){s._moveEvents.next({source:s,pointerPosition:e,event:t,distance:s._getDragDistance(e),delta:s._pointerDirectionDelta})}))}else{var n=s._getPointerPositionOnPage(t);if(Math.abs(n.x-s._pickupPositionOnPage.x)+Math.abs(n.y-s._pickupPositionOnPage.y)>=s._config.dragStartThreshold){if(!(Date.now()>=s._dragStartTime+s._getDragStartDelay(t)))return void s._endDragSequence(t);s._dropContainer&&s._dropContainer.isDragging()||(s._hasStartedDragging=!0,s._ngZone.run((function(){return s._startDragSequence(t)})))}}},this._pointerUp=function(t){s._endDragSequence(t)},this.withRootElement(e),a.registerDragItem(this)}return _createClass(t,[{key:"getPlaceholderElement",value:function(){return this._placeholder}},{key:"getRootElement",value:function(){return this._rootElement}},{key:"withHandles",value:function(t){return this._handles=t.map((function(t){return Object(P.e)(t)})),this._handles.forEach((function(t){return q(t,!1)})),this._toggleNativeDragInteractions(),this}},{key:"withPreviewTemplate",value:function(t){return this._previewTemplate=t,this}},{key:"withPlaceholderTemplate",value:function(t){return this._placeholderTemplate=t,this}},{key:"withRootElement",value:function(t){var e=Object(P.e)(t);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),e.addEventListener("mousedown",this._pointerDown,X),e.addEventListener("touchstart",this._pointerDown,$),this._initialTransform=void 0,this._rootElement=e),this}},{key:"withBoundaryElement",value:function(t){var e=this;return this._boundaryElement=t?Object(P.e)(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe((function(){return e._containInsideBoundaryOnResize()}))),this}},{key:"dispose",value:function(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&et(this._rootElement),et(this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._boundaryElement=this._rootElement=this._placeholderTemplate=this._previewTemplate=this._anchor=null}},{key:"isDragging",value:function(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}},{key:"reset",value:function(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}},{key:"disableHandle",value:function(t){this._handles.indexOf(t)>-1&&this._disabledHandles.add(t)}},{key:"enableHandle",value:function(t){this._disabledHandles.delete(t)}},{key:"withDirection",value:function(t){return this._direction=t,this}},{key:"_withDropContainer",value:function(t){this._dropContainer=t}},{key:"getFreeDragPosition",value:function(){var t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}},{key:"setFreeDragPosition",value:function(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}},{key:"_sortFromLastPointerPosition",value:function(){var t=this._pointerPositionAtLastDirectionChange;t&&this._dropContainer&&this._updateActiveDropContainer(t)}},{key:"_removeSubscriptions",value:function(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}},{key:"_destroyPreview",value:function(){this._preview&&et(this._preview),this._previewRef&&this._previewRef.destroy(),this._preview=this._previewRef=null}},{key:"_destroyPlaceholder",value:function(){this._placeholder&&et(this._placeholder),this._placeholderRef&&this._placeholderRef.destroy(),this._placeholder=this._placeholderRef=null}},{key:"_endDragSequence",value:function(t){var e=this;this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging&&(this.released.next({source:this}),this._dropContainer?(this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then((function(){e._cleanupDragArtifacts(t),e._cleanupCachedDimensions(),e._dragDropRegistry.stopDragging(e)}))):(this._passiveTransform.x=this._activeTransform.x,this._passiveTransform.y=this._activeTransform.y,this._ngZone.run((function(){e.ended.next({source:e,distance:e._getDragDistance(e._getPointerPositionOnPage(t))})})),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this))))}},{key:"_startDragSequence",value:function(t){if(this.started.next({source:this}),it(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions(),this._dropContainer){var e=this._rootElement,i=e.parentNode,n=this._preview=this._createPreviewElement(),o=this._placeholder=this._createPlaceholderElement(),r=this._anchor=this._anchor||this._document.createComment("");i.insertBefore(r,e),e.style.display="none",this._document.body.appendChild(i.replaceChild(o,e)),(a=this._document,a.fullscreenElement||a.webkitFullscreenElement||a.mozFullScreenElement||a.msFullscreenElement||a.body).appendChild(n),this._dropContainer.start()}var a}},{key:"_initializeDragSequence",value:function(t,e){var i=this;e.stopPropagation();var n=this.isDragging(),o=it(e),r=!o&&0!==e.button,a=this._rootElement,s=!o&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now();if(e.target&&e.target.draggable&&"mousedown"===e.type&&e.preventDefault(),!(n||r||s)){this._handles.length&&(this._rootElementTapHighlight=a.style.webkitTapHighlightColor,a.style.webkitTapHighlightColor="transparent"),this._hasStartedDragging=this._hasMoved=!1,this._initialContainer=this._dropContainer,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scroll.pipe(Object(F.a)(null)).subscribe((function(){i._scrollPosition=i._viewportRuler.getViewportScrollPosition()})),this._boundaryElement&&(this._boundaryRect=this._boundaryElement.getBoundingClientRect()),this._pickupPositionInElement=this._previewTemplate&&this._previewTemplate.template?{x:0,y:0}:this._getPointerPositionInElement(t,e);var c=this._pickupPositionOnPage=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:c.x,y:c.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}}},{key:"_cleanupDragArtifacts",value:function(t){var e=this;this._rootElement.style.display="",this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=void 0,this._ngZone.run((function(){var i=e._dropContainer,n=i.getItemIndex(e),o=e._getPointerPositionOnPage(t),r=e._getDragDistance(e._getPointerPositionOnPage(t)),a=i._isOverContainer(o.x,o.y);e.ended.next({source:e,distance:r}),e.dropped.next({item:e,currentIndex:n,previousIndex:e._initialContainer.getItemIndex(e),container:i,previousContainer:e._initialContainer,isPointerOverContainer:a,distance:r}),i.drop(e,n,e._initialContainer,a,r),e._dropContainer=e._initialContainer}))}},{key:"_updateActiveDropContainer",value:function(t){var e=this,i=t.x,n=t.y,o=this._initialContainer._getSiblingContainerFromPosition(this,i,n);!o&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(i,n)&&(o=this._initialContainer),o&&o!==this._dropContainer&&this._ngZone.run((function(){e.exited.next({item:e,container:e._dropContainer}),e._dropContainer.exit(e),e._dropContainer=o,e._dropContainer.enter(e,i,n),e.entered.next({item:e,container:o,currentIndex:o.getItemIndex(e)})})),this._dropContainer._startScrollingIfNecessary(i,n),this._dropContainer._sortItem(this,i,n,this._pointerDirectionDelta),this._preview.style.transform=Q(i-this._pickupPositionInElement.x,n-this._pickupPositionInElement.y)}},{key:"_createPreviewElement",value:function(){var t,e=this._previewTemplate,i=this.previewClass,n=e?e.template:null;if(n){var o=e.viewContainer.createEmbeddedView(n,e.context);t=nt(o,this._document),this._previewRef=o,t.style.transform=Q(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{var r=this._rootElement,a=r.getBoundingClientRect();(t=K(r)).style.width="".concat(a.width,"px"),t.style.height="".concat(a.height,"px"),t.style.transform=Q(a.left,a.top)}return Y(t.style,{pointerEvents:"none",margin:"0",position:"fixed",top:"0",left:"0",zIndex:"1000"}),q(t,!1),t.classList.add("cdk-drag-preview"),t.setAttribute("dir",this._direction),i&&(Array.isArray(i)?i.forEach((function(e){return t.classList.add(e)})):t.classList.add(i)),t}},{key:"_animatePreviewToPlaceholder",value:function(){var t=this;if(!this._hasMoved)return Promise.resolve();var e=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._preview.style.transform=Q(e.left,e.top);var i=function(t){var e=getComputedStyle(t),i=U(e,"transition-property"),n=i.find((function(t){return"transform"===t||"all"===t}));if(!n)return 0;var o=i.indexOf(n),r=U(e,"transition-duration"),a=U(e,"transition-delay");return J(r[o])+J(a[o])}(this._preview);return 0===i?Promise.resolve():this._ngZone.runOutsideAngular((function(){return new Promise((function(e){var n=function i(n){(!n||n.target===t._preview&&"transform"===n.propertyName)&&(t._preview.removeEventListener("transitionend",i),e(),clearTimeout(o))},o=setTimeout(n,1.5*i);t._preview.addEventListener("transitionend",n)}))}))}},{key:"_createPlaceholderElement",value:function(){var t,e=this._placeholderTemplate,i=e?e.template:null;return i?(this._placeholderRef=e.viewContainer.createEmbeddedView(i,e.context),t=nt(this._placeholderRef,this._document)):t=K(this._rootElement),t.classList.add("cdk-drag-placeholder"),t}},{key:"_getPointerPositionInElement",value:function(t,e){var i=this._rootElement.getBoundingClientRect(),n=t===this._rootElement?null:t,o=n?n.getBoundingClientRect():i,r=it(e)?e.targetTouches[0]:e;return{x:o.left-i.left+(r.pageX-o.left-this._scrollPosition.left),y:o.top-i.top+(r.pageY-o.top-this._scrollPosition.top)}}},{key:"_getPointerPositionOnPage",value:function(t){var e=it(t)?t.touches[0]||t.changedTouches[0]:t;return{x:e.pageX-this._scrollPosition.left,y:e.pageY-this._scrollPosition.top}}},{key:"_getConstrainedPointerPosition",value:function(t){var e=this._getPointerPositionOnPage(t),i=this.constrainPosition?this.constrainPosition(e,this):e,n=this._dropContainer?this._dropContainer.lockAxis:null;if("x"===this.lockAxis||"x"===n?i.y=this._pickupPositionOnPage.y:"y"!==this.lockAxis&&"y"!==n||(i.x=this._pickupPositionOnPage.x),this._boundaryRect){var o=this._pickupPositionInElement,r=o.x,a=o.y,s=this._boundaryRect,c=this._previewRect,l=s.top+a,u=s.bottom-(c.height-a);i.x=tt(i.x,s.left+r,s.right-(c.width-r)),i.y=tt(i.y,l,u)}return i}},{key:"_updatePointerDirectionDelta",value:function(t){var e=t.x,i=t.y,n=this._pointerDirectionDelta,o=this._pointerPositionAtLastDirectionChange,r=Math.abs(e-o.x),a=Math.abs(i-o.y);return r>this._config.pointerDirectionChangeThreshold&&(n.x=e>o.x?1:-1,o.x=e),a>this._config.pointerDirectionChangeThreshold&&(n.y=i>o.y?1:-1,o.y=i),n}},{key:"_toggleNativeDragInteractions",value:function(){if(this._rootElement&&this._handles){var t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,q(this._rootElement,t))}}},{key:"_removeRootElementListeners",value:function(t){t.removeEventListener("mousedown",this._pointerDown,X),t.removeEventListener("touchstart",this._pointerDown,$)}},{key:"_applyRootElementTransform",value:function(t,e){var i=Q(t,e);null==this._initialTransform&&(this._initialTransform=this._rootElement.style.transform||""),this._rootElement.style.transform=this._initialTransform?i+" "+this._initialTransform:i}},{key:"_getDragDistance",value:function(t){var e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}},{key:"_cleanupCachedDimensions",value:function(){this._boundaryRect=this._previewRect=void 0}},{key:"_containInsideBoundaryOnResize",value:function(){var t=this._passiveTransform,e=t.x,i=t.y;if(!(0===e&&0===i||this.isDragging())&&this._boundaryElement){var n=this._boundaryElement.getBoundingClientRect(),o=this._rootElement.getBoundingClientRect();if(!(0===n.width&&0===n.height||0===o.width&&0===o.height)){var r=n.left-o.left,a=o.right-n.right,s=n.top-o.top,c=o.bottom-n.bottom;n.width>o.width?(r>0&&(e+=r),a>0&&(e-=a)):e=0,n.height>o.height?(s>0&&(i+=s),c>0&&(i-=c)):i=0,e===this._passiveTransform.x&&i===this._passiveTransform.y||this.setFreeDragPosition({y:i,x:e})}}}},{key:"_getDragStartDelay",value:function(t){var e=this.dragStartDelay;return"number"==typeof e?e:it(t)?e.touch:e?e.mouse:0}},{key:"disabled",get:function(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)},set:function(t){var e=Object(P.c)(t);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions())}}]),t}();function Q(t,e){return"translate3d(".concat(Math.round(t),"px, ").concat(Math.round(e),"px, 0)")}function K(t){var e=t.cloneNode(!0),i=e.querySelectorAll("[id]"),n=t.querySelectorAll("canvas");e.removeAttribute("id");for(var o=0;o<i.length;o++)i[o].removeAttribute("id");if(n.length)for(var r=e.querySelectorAll("canvas"),a=0;a<n.length;a++){var s=r[a].getContext("2d");s&&s.drawImage(n[a],0,0)}return e}function tt(t,e,i){return Math.max(e,Math.min(i,t))}function et(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function it(t){return"t"===t.type[0]}function nt(t,e){var i=t.rootNodes[0];if(i.nodeType!==e.ELEMENT_NODE){var n=e.createElement("div");return n.appendChild(i),n}return i}function ot(t,e,i){var n=rt(e,t.length-1),o=rt(i,t.length-1);if(n!==o){for(var r=t[n],a=o<n?-1:1,s=n;s!==o;s+=a)t[s]=t[s+a];t[o]=r}}function rt(t,e){return Math.max(0,Math.min(e,t))}var at=function(){function t(e,i,n,o,r){var a=this;_classCallCheck(this,t),this._dragDropRegistry=i,this._ngZone=o,this._viewportRuler=r,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.enterPredicate=function(){return!0},this.beforeStarted=new I.a,this.entered=new I.a,this.exited=new I.a,this.dropped=new I.a,this.sorted=new I.a,this._isDragging=!1,this._itemPositions=[],this._scrollPosition={top:0,left:0},this._viewportScrollPosition={top:0,left:0},this._previousSwap={drag:null,delta:0},this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=E.a.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new I.a,this._cachedShadowRoot=null,this._handleScroll=function(){if(a.isDragging()){var t=Object(P.e)(a.element);a._updateAfterScroll(a._scrollPosition,t.scrollTop,t.scrollLeft)}},this._startScrollInterval=function(){a._stopScrolling(),Object(A.a)(0,M.a).pipe(Object(G.a)(a._stopScrollTimers)).subscribe((function(){var t=a._scrollNode;1===a._verticalScrollDirection?dt(t,-2):2===a._verticalScrollDirection&&dt(t,2),1===a._horizontalScrollDirection?ht(t,-2):2===a._horizontalScrollDirection&&ht(t,2)}))},this.element=Object(P.e)(e),this._document=n,i.registerDropContainer(this)}return _createClass(t,[{key:"dispose",value:function(){this._stopScrolling(),this._stopScrollTimers.complete(),this._removeListeners(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._dragDropRegistry.removeDropContainer(this)}},{key:"isDragging",value:function(){return this._isDragging}},{key:"start",value:function(){var t=this,e=Object(P.e)(this.element);this.beforeStarted.next(),this._isDragging=!0,this._cacheItems(),this._siblings.forEach((function(e){return e._startReceiving(t)})),this._removeListeners(),this._ngZone.runOutsideAngular((function(){return e.addEventListener("scroll",t._handleScroll)})),this._listenToScrollEvents()}},{key:"enter",value:function(t,e,i){this.start();var n=this.sortingDisabled?this._draggables.indexOf(t):-1;-1===n&&(n=this._getItemIndexFromPointerPosition(t,e,i));var o=this._activeDraggables,r=o.indexOf(t),a=t.getPlaceholderElement(),s=o[n];if(s===t&&(s=o[n+1]),r>-1&&o.splice(r,1),s&&!this._dragDropRegistry.isDragging(s)){var c=s.getRootElement();c.parentElement.insertBefore(a,c),o.splice(n,0,t)}else Object(P.e)(this.element).appendChild(a),o.push(t);a.style.transform="",this._cacheItemPositions(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}},{key:"exit",value:function(t){this._reset(),this.exited.next({item:t,container:this})}},{key:"drop",value:function(t,e,i,n,o){this._reset(),this.dropped.next({item:t,currentIndex:e,previousIndex:i.getItemIndex(t),container:this,previousContainer:i,isPointerOverContainer:n,distance:o})}},{key:"withItems",value:function(t){var e=this;return this._draggables=t,t.forEach((function(t){return t._withDropContainer(e)})),this.isDragging()&&this._cacheItems(),this}},{key:"withDirection",value:function(t){return this._direction=t,this}},{key:"connectedTo",value:function(t){return this._siblings=t.slice(),this}},{key:"withOrientation",value:function(t){return this._orientation=t,this}},{key:"getItemIndex",value:function(t){return this._isDragging?ct("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions,(function(e){return e.drag===t})):this._draggables.indexOf(t)}},{key:"isReceiving",value:function(){return this._activeSiblings.size>0}},{key:"_sortItem",value:function(t,e,i,n){if(!this.sortingDisabled&&this._isPointerNearDropContainer(e,i)){var o=this._itemPositions,r=this._getItemIndexFromPointerPosition(t,e,i,n);if(!(-1===r&&o.length>0)){var a="horizontal"===this._orientation,s=ct(o,(function(e){return e.drag===t})),c=o[r],l=o[s].clientRect,u=c.clientRect,d=s>r?1:-1;this._previousSwap.drag=c.drag,this._previousSwap.delta=a?n.x:n.y;var h=this._getItemOffsetPx(l,u,d),p=this._getSiblingOffsetPx(s,o,d),f=o.slice();ot(o,s,r),this.sorted.next({previousIndex:s,currentIndex:r,container:this,item:t}),o.forEach((function(e,i){if(f[i]!==e){var n=e.drag===t,o=n?h:p,r=n?t.getPlaceholderElement():e.drag.getRootElement();e.offset+=o,a?(r.style.transform="translate3d(".concat(Math.round(e.offset),"px, 0, 0)"),st(e.clientRect,0,o)):(r.style.transform="translate3d(0, ".concat(Math.round(e.offset),"px, 0)"),st(e.clientRect,o,0))}}))}}}},{key:"_startScrollingIfNecessary",value:function(t,e){if(!this.autoScrollDisabled){var i,n=0,o=0;if(this._isPointerNearDropContainer(t,e)){var r,a,s=Object(P.e)(this.element);r=function(t,e,i,n){var o=pt(e,n),r=ft(e,i),a=0,s=0;if(o){var c=t.scrollTop;1===o?c>0&&(a=1):t.scrollHeight-c>t.clientHeight&&(a=2)}if(r){var l=t.scrollLeft;1===r?l>0&&(s=1):t.scrollWidth-l>t.clientWidth&&(s=2)}return[a,s]}(s,this._clientRect,t,e),n=(a=_slicedToArray(r,2))[0],o=a[1],(n||o)&&(i=s)}if(!n&&!o){var c=this._viewportRuler.getViewportSize(),l=c.width,u=c.height,d={width:l,height:u,top:0,right:l,bottom:u,left:0};n=pt(d,e),o=ft(d,t),i=window}!i||n===this._verticalScrollDirection&&o===this._horizontalScrollDirection&&i===this._scrollNode||(this._verticalScrollDirection=n,this._horizontalScrollDirection=o,this._scrollNode=i,(n||o)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}}},{key:"_stopScrolling",value:function(){this._stopScrollTimers.next()}},{key:"_cacheOwnPosition",value:function(){var t=Object(P.e)(this.element);this._clientRect=ut(t),this._scrollPosition={top:t.scrollTop,left:t.scrollLeft}}},{key:"_cacheItemPositions",value:function(){var t=this,e="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map((function(e){var i=t._dragDropRegistry.isDragging(e)?e.getPlaceholderElement():e.getRootElement();return{drag:e,offset:0,clientRect:ut(i)}})).sort((function(t,i){return e?t.clientRect.left-i.clientRect.left:t.clientRect.top-i.clientRect.top}))}},{key:"_reset",value:function(){var t=this;this._isDragging=!1,this._activeDraggables.forEach((function(t){return t.getRootElement().style.transform=""})),this._siblings.forEach((function(e){return e._stopReceiving(t)})),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._stopScrolling(),this._removeListeners()}},{key:"_getSiblingOffsetPx",value:function(t,e,i){var n="horizontal"===this._orientation,o=e[t].clientRect,r=e[t+-1*i],a=o[n?"width":"height"]*i;if(r){var s=n?"left":"top",c=n?"right":"bottom";-1===i?a-=r.clientRect[s]-o[c]:a+=o[s]-r.clientRect[c]}return a}},{key:"_isPointerNearDropContainer",value:function(t,e){var i=this._clientRect,n=i.top,o=i.right,r=i.bottom,a=i.left,s=.05*i.width,c=.05*i.height;return e>n-c&&e<r+c&&t>a-s&&t<o+s}},{key:"_getItemOffsetPx",value:function(t,e,i){var n="horizontal"===this._orientation,o=n?e.left-t.left:e.top-t.top;return-1===i&&(o+=n?e.width-t.width:e.height-t.height),o}},{key:"_getItemIndexFromPointerPosition",value:function(t,e,i,n){var o=this,r="horizontal"===this._orientation;return ct(this._itemPositions,(function(a,s,c){var l=a.drag,u=a.clientRect;if(l===t)return c.length<2;if(n){var d=r?n.x:n.y;if(l===o._previousSwap.drag&&d===o._previousSwap.delta)return!1}return r?e>=Math.floor(u.left)&&e<=Math.floor(u.right):i>=Math.floor(u.top)&&i<=Math.floor(u.bottom)}))}},{key:"_cacheItems",value:function(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheOwnPosition()}},{key:"_updateAfterScroll",value:function(t,e,i,n){var o=this,r=t.top-e,a=t.left-i;n&&st(n,r,a),this._itemPositions.forEach((function(t){st(t.clientRect,r,a)})),this._itemPositions.forEach((function(t){var e=t.drag;o._dragDropRegistry.isDragging(e)&&e._sortFromLastPointerPosition()})),t.top=e,t.left=i}},{key:"_removeListeners",value:function(){Object(P.e)(this.element).removeEventListener("scroll",this._handleScroll),this._viewportScrollSubscription.unsubscribe()}},{key:"_isOverContainer",value:function(t,e){return lt(this._clientRect,t,e)}},{key:"_getSiblingContainerFromPosition",value:function(t,e,i){return this._siblings.find((function(n){return n._canReceive(t,e,i)}))}},{key:"_canReceive",value:function(t,e,i){if(!lt(this._clientRect,e,i)||!this.enterPredicate(t,this))return!1;var n=this._getShadowRoot().elementFromPoint(e,i);if(!n)return!1;var o=Object(P.e)(this.element);return n===o||o.contains(n)}},{key:"_startReceiving",value:function(t){var e=this._activeSiblings;e.has(t)||(e.add(t),this._cacheOwnPosition(),this._listenToScrollEvents())}},{key:"_stopReceiving",value:function(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe()}},{key:"_listenToScrollEvents",value:function(){var t=this;this._viewportScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._viewportScrollSubscription=this._dragDropRegistry.scroll.subscribe((function(){if(t.isDragging()){var e=t._viewportRuler.getViewportScrollPosition();t._updateAfterScroll(t._viewportScrollPosition,e.top,e.left,t._clientRect)}else t.isReceiving()&&t._cacheOwnPosition()}))}},{key:"_getShadowRoot",value:function(){return this._cachedShadowRoot||(this._cachedShadowRoot=function(t){if(Object(L.d)()){var e=t.getRootNode?t.getRootNode():null;if(e instanceof ShadowRoot)return e}return null}(Object(P.e)(this.element))||this._document),this._cachedShadowRoot}}]),t}();function st(t,e,i){t.top+=e,t.bottom=t.top+t.height,t.left+=i,t.right=t.left+t.width}function ct(t,e){for(var i=0;i<t.length;i++)if(e(t[i],i,t))return i;return-1}function lt(t,e,i){var n=t.top,o=t.bottom,r=t.left,a=t.right;return i>=n&&i<=o&&e>=r&&e<=a}function ut(t){var e=t.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}}function dt(t,e){t===window?t.scrollBy(0,e):t.scrollTop+=e}function ht(t,e){t===window?t.scrollBy(e,0):t.scrollLeft+=e}function pt(t,e){var i=t.top,n=t.bottom,o=.05*t.height;return e>=i-o&&e<=i+o?1:e>=n-o&&e<=n+o?2:0}function ft(t,e){var i=t.left,n=t.right,o=.05*t.width;return e>=i-o&&e<=i+o?1:e>=n-o&&e<=n+o?2:0}var gt,_t,mt,vt,bt,yt,kt=Object(L.g)({passive:!1,capture:!0}),Dt=((gt=function(){function t(e,i){var n=this;_classCallCheck(this,t),this._ngZone=e,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=new Set,this._globalListeners=new Map,this.pointerMove=new I.a,this.pointerUp=new I.a,this.scroll=new I.a,this._preventDefaultWhileDragging=function(t){n._activeDragInstances.size&&t.preventDefault()},this._document=i}return _createClass(t,[{key:"registerDropContainer",value:function(t){this._dropInstances.has(t)||this._dropInstances.add(t)}},{key:"registerDragItem",value:function(t){var e=this;this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular((function(){e._document.addEventListener("touchmove",e._preventDefaultWhileDragging,kt)}))}},{key:"removeDropContainer",value:function(t){this._dropInstances.delete(t)}},{key:"removeDragItem",value:function(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._preventDefaultWhileDragging,kt)}},{key:"startDragging",value:function(t,e){var i=this;if(!this._activeDragInstances.has(t)&&(this._activeDragInstances.add(t),1===this._activeDragInstances.size)){var n=e.type.startsWith("touch"),o=n?"touchend":"mouseup";this._globalListeners.set(n?"touchmove":"mousemove",{handler:function(t){return i.pointerMove.next(t)},options:kt}).set(o,{handler:function(t){return i.pointerUp.next(t)},options:!0}).set("scroll",{handler:function(t){return i.scroll.next(t)},options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:kt}),this._ngZone.runOutsideAngular((function(){i._globalListeners.forEach((function(t,e){i._document.addEventListener(e,t.handler,t.options)}))}))}}},{key:"stopDragging",value:function(t){this._activeDragInstances.delete(t),0===this._activeDragInstances.size&&this._clearGlobalListeners()}},{key:"isDragging",value:function(t){return this._activeDragInstances.has(t)}},{key:"ngOnDestroy",value:function(){var t=this;this._dragInstances.forEach((function(e){return t.removeDragItem(e)})),this._dropInstances.forEach((function(e){return t.removeDropContainer(e)})),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}},{key:"_clearGlobalListeners",value:function(){var t=this;this._globalListeners.forEach((function(e,i){t._document.removeEventListener(i,e.handler,e.options)})),this._globalListeners.clear()}}]),t}()).\u0275fac=function(t){return new(t||gt)(w.fc(w.C),w.fc(y.d))},gt.\u0275prov=Object(w.Rb)({factory:function(){return new gt(Object(w.fc)(w.C),Object(w.fc)(y.d))},token:gt,providedIn:"root"}),gt),xt={dragStartThreshold:5,pointerDirectionChangeThreshold:5},wt=((_t=function(){function t(e,i,n,o){_classCallCheck(this,t),this._document=e,this._ngZone=i,this._viewportRuler=n,this._dragDropRegistry=o}return _createClass(t,[{key:"createDrag",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xt;return new Z(t,e,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}},{key:"createDropList",value:function(t){return new at(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}]),t}()).\u0275fac=function(t){return new(t||_t)(w.fc(y.d),w.fc(w.C),w.fc(R.d),w.fc(Dt))},_t.\u0275prov=Object(w.Rb)({factory:function(){return new _t(Object(w.fc)(y.d),Object(w.fc)(w.C),Object(w.fc)(R.d),Object(w.fc)(Dt))},token:_t,providedIn:"root"}),_t),Ct=new w.s("CDK_DRAG_PARENT"),Tt=((bt=function(){function t(e,i){_classCallCheck(this,t),this.element=e,this._stateChanges=new I.a,this._disabled=!1,this._parentDrag=i,q(e.nativeElement,!1)}return _createClass(t,[{key:"ngOnDestroy",value:function(){this._stateChanges.complete()}},{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=Object(P.c)(t),this._stateChanges.next(this)}}]),t}()).\u0275fac=function(t){return new(t||bt)(w.Vb(w.l),w.Vb(Ct,8))},bt.\u0275dir=w.Qb({type:bt,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:["cdkDragHandleDisabled","disabled"]}}),bt),St=((vt=function t(e){_classCallCheck(this,t),this.templateRef=e}).\u0275fac=function(t){return new(t||vt)(w.Vb(w.O))},vt.\u0275dir=w.Qb({type:vt,selectors:[["ng-template","cdkDragPlaceholder",""]],inputs:{data:"data"}}),vt),Ot=((mt=function t(e){_classCallCheck(this,t),this.templateRef=e}).\u0275fac=function(t){return new(t||mt)(w.Vb(w.O))},mt.\u0275dir=w.Qb({type:mt,selectors:[["ng-template","cdkDragPreview",""]],inputs:{data:"data"}}),mt),Rt=new w.s("CDK_DROP_LIST"),Lt=new w.s("CDK_DRAG_CONFIG",{providedIn:"root",factory:function(){return{dragStartThreshold:5,pointerDirectionChangeThreshold:5}}}),Pt=((yt=function(){function t(e,i,n,o,r,a,s,c,l){var u=this;_classCallCheck(this,t),this.element=e,this.dropContainer=i,this._document=n,this._ngZone=o,this._viewContainerRef=r,this._dir=s,this._changeDetectorRef=l,this._destroyed=new I.a,this.dragStartDelay=0,this._disabled=!1,this.started=new w.o,this.released=new w.o,this.ended=new w.o,this.entered=new w.o,this.exited=new w.o,this.dropped=new w.o,this.moved=new V.a((function(t){var e=u._dragRef.moved.pipe(Object(N.a)((function(t){return{source:u,pointerPosition:t.pointerPosition,event:t.event,delta:t.delta,distance:t.distance}}))).subscribe(t);return function(){e.unsubscribe()}})),this._dragRef=c.createDrag(e,a),this._dragRef.data=this,this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}return _createClass(t,[{key:"getPlaceholderElement",value:function(){return this._dragRef.getPlaceholderElement()}},{key:"getRootElement",value:function(){return this._dragRef.getRootElement()}},{key:"reset",value:function(){this._dragRef.reset()}},{key:"getFreeDragPosition",value:function(){return this._dragRef.getFreeDragPosition()}},{key:"ngAfterViewInit",value:function(){var t=this;this._ngZone.onStable.asObservable().pipe(Object(z.a)(1),Object(G.a)(this._destroyed)).subscribe((function(){t._updateRootElement(),t._handles.changes.pipe(Object(F.a)(t._handles),Object(B.a)((function(e){var i=e.filter((function(e){return e._parentDrag===t})).map((function(t){return t.element}));t._dragRef.withHandles(i)})),Object(W.a)((function(t){return Object(j.a).apply(void 0,_toConsumableArray(t.map((function(t){return t._stateChanges.pipe(Object(F.a)(t))}))))})),Object(G.a)(t._destroyed)).subscribe((function(e){var i=t._dragRef,n=e.element.nativeElement;e.disabled?i.disableHandle(n):i.enableHandle(n)})),t.freeDragPosition&&t._dragRef.setFreeDragPosition(t.freeDragPosition)}))}},{key:"ngOnChanges",value:function(t){var e=t.rootElementSelector,i=t.freeDragPosition;e&&!e.firstChange&&this._updateRootElement(),i&&!i.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}},{key:"ngOnDestroy",value:function(){this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()}},{key:"_updateRootElement",value:function(){var t=this.element.nativeElement,e=this.rootElementSelector?It(t,this.rootElementSelector):t;if(e&&e.nodeType!==this._document.ELEMENT_NODE)throw Error("cdkDrag must be attached to an element node. "+'Currently attached to "'.concat(e.nodeName,'".'));this._dragRef.withRootElement(e||t)}},{key:"_getBoundaryElement",value:function(){var t=this.boundaryElement;if(!t)return null;if("string"==typeof t)return It(this.element.nativeElement,t);var e=Object(P.e)(t);if(Object(w.Z)()&&!e.contains(this.element.nativeElement))throw Error("Draggable element is not inside of the node passed into cdkDragBoundary.");return e}},{key:"_syncInputs",value:function(t){var e=this;t.beforeStarted.subscribe((function(){if(!t.isDragging()){var i=e._dir,n=e.dragStartDelay,o=e._placeholderTemplate?{template:e._placeholderTemplate.templateRef,context:e._placeholderTemplate.data,viewContainer:e._viewContainerRef}:null,r=e._previewTemplate?{template:e._previewTemplate.templateRef,context:e._previewTemplate.data,viewContainer:e._viewContainerRef}:null;t.disabled=e.disabled,t.lockAxis=e.lockAxis,t.dragStartDelay="object"==typeof n&&n?n:Object(P.f)(n),t.constrainPosition=e.constrainPosition,t.previewClass=e.previewClass,t.withBoundaryElement(e._getBoundaryElement()).withPlaceholderTemplate(o).withPreviewTemplate(r),i&&t.withDirection(i.value)}}))}},{key:"_handleEvents",value:function(t){var e=this;t.started.subscribe((function(){e.started.emit({source:e}),e._changeDetectorRef.markForCheck()})),t.released.subscribe((function(){e.released.emit({source:e})})),t.ended.subscribe((function(t){e.ended.emit({source:e,distance:t.distance}),e._changeDetectorRef.markForCheck()})),t.entered.subscribe((function(t){e.entered.emit({container:t.container.data,item:e,currentIndex:t.currentIndex})})),t.exited.subscribe((function(t){e.exited.emit({container:t.container.data,item:e})})),t.dropped.subscribe((function(t){e.dropped.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,previousContainer:t.previousContainer.data,container:t.container.data,isPointerOverContainer:t.isPointerOverContainer,item:e,distance:t.distance})}))}},{key:"disabled",get:function(){return this._disabled||this.dropContainer&&this.dropContainer.disabled},set:function(t){this._disabled=Object(P.c)(t),this._dragRef.disabled=this._disabled}}]),t}()).\u0275fac=function(t){return new(t||yt)(w.Vb(w.l),w.Vb(Rt,12),w.Vb(y.d),w.Vb(w.C),w.Vb(w.R),w.Vb(Lt),w.Vb(H.c,8),w.Vb(wt),w.Vb(w.h))},yt.\u0275dir=w.Qb({type:yt,selectors:[["","cdkDrag",""]],contentQueries:function(t,e,i){var n;1&t&&(w.Nb(i,Ot,!0),w.Nb(i,St,!0),w.Nb(i,Tt,!0)),2&t&&(w.Ic(n=w.kc())&&(e._previewTemplate=n.first),w.Ic(n=w.kc())&&(e._placeholderTemplate=n.first),w.Ic(n=w.kc())&&(e._handles=n))},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(t,e){2&t&&w.Lb("cdk-drag-disabled",e.disabled)("cdk-drag-dragging",e._dragRef.isDragging())},inputs:{dragStartDelay:["cdkDragStartDelay","dragStartDelay"],disabled:["cdkDragDisabled","disabled"],data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[w.Fb([{provide:Ct,useExisting:yt}]),w.Eb()]}),yt);function It(t,e){for(var i=t.parentElement;i;){if(i.matches?i.matches(e):i.msMatchesSelector(e))return i;i=i.parentElement}return null}var Et,At,Mt,Vt,jt,Ft=((Mt=function(){function t(){_classCallCheck(this,t),this._items=new Set,this._disabled=!1}return _createClass(t,[{key:"ngOnDestroy",value:function(){this._items.clear()}},{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=Object(P.c)(t)}}]),t}()).\u0275fac=function(t){return new(t||Mt)},Mt.\u0275dir=w.Qb({type:Mt,selectors:[["","cdkDropListGroup",""]],inputs:{disabled:["cdkDropListGroupDisabled","disabled"]},exportAs:["cdkDropListGroup"]}),Mt),Gt=0,Nt=((At=function(){function t(e,i,n,o,r){var a=this;_classCallCheck(this,t),this.element=e,this._changeDetectorRef=n,this._dir=o,this._group=r,this._destroyed=new I.a,this.connectedTo=[],this.orientation="vertical",this.id="cdk-drop-list-".concat(Gt++),this._disabled=!1,this.sortingDisabled=!1,this.enterPredicate=function(){return!0},this.autoScrollDisabled=!1,this.dropped=new w.o,this.entered=new w.o,this.exited=new w.o,this.sorted=new w.o,this._dropListRef=i.createDropList(e),this._dropListRef.data=this,this._dropListRef.enterPredicate=function(t,e){return a.enterPredicate(t.data,e.data)},this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),t._dropLists.push(this),r&&r._items.add(this)}return _createClass(t,[{key:"ngAfterContentInit",value:function(){var t=this;this._draggables.changes.pipe(Object(F.a)(this._draggables),Object(G.a)(this._destroyed)).subscribe((function(e){t._dropListRef.withItems(e.reduce((function(e,i){return i.dropContainer===t&&e.push(i._dragRef),e}),[]))}))}},{key:"ngOnDestroy",value:function(){var e=t._dropLists.indexOf(this);e>-1&&t._dropLists.splice(e,1),this._group&&this._group._items.delete(this),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}},{key:"start",value:function(){this._dropListRef.start()}},{key:"drop",value:function(t,e,i,n){this._dropListRef.drop(t._dragRef,e,i._dropListRef,n,{x:0,y:0})}},{key:"enter",value:function(t,e,i){this._dropListRef.enter(t._dragRef,e,i)}},{key:"exit",value:function(t){this._dropListRef.exit(t._dragRef)}},{key:"getItemIndex",value:function(t){return this._dropListRef.getItemIndex(t._dragRef)}},{key:"_setupInputSyncSubscription",value:function(e){var i=this;this._dir&&this._dir.change.pipe(Object(F.a)(this._dir.value),Object(G.a)(this._destroyed)).subscribe((function(t){return e.withDirection(t)})),e.beforeStarted.subscribe((function(){var n=Object(P.b)(i.connectedTo).map((function(e){return"string"==typeof e?t._dropLists.find((function(t){return t.id===e})):e}));i._group&&i._group._items.forEach((function(t){-1===n.indexOf(t)&&n.push(t)})),e.disabled=i.disabled,e.lockAxis=i.lockAxis,e.sortingDisabled=Object(P.c)(i.sortingDisabled),e.autoScrollDisabled=Object(P.c)(i.autoScrollDisabled),e.connectedTo(n.filter((function(t){return t&&t!==i})).map((function(t){return t._dropListRef}))).withOrientation(i.orientation)}))}},{key:"_handleEvents",value:function(t){var e=this;t.beforeStarted.subscribe((function(){e._changeDetectorRef.markForCheck()})),t.entered.subscribe((function(t){e.entered.emit({container:e,item:t.item.data,currentIndex:t.currentIndex})})),t.exited.subscribe((function(t){e.exited.emit({container:e,item:t.item.data}),e._changeDetectorRef.markForCheck()})),t.sorted.subscribe((function(t){e.sorted.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,container:e,item:t.item.data})})),t.dropped.subscribe((function(t){e.dropped.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,previousContainer:t.previousContainer.data,container:t.container.data,item:t.item.data,isPointerOverContainer:t.isPointerOverContainer,distance:t.distance}),e._changeDetectorRef.markForCheck()}))}},{key:"disabled",get:function(){return this._disabled||!!this._group&&this._group.disabled},set:function(t){this._dropListRef.disabled=this._disabled=Object(P.c)(t)}}]),t}()).\u0275fac=function(t){return new(t||At)(w.Vb(w.l),w.Vb(wt),w.Vb(w.h),w.Vb(H.c,8),w.Vb(Ft,12))},At.\u0275dir=w.Qb({type:At,selectors:[["","cdkDropList",""],["cdk-drop-list"]],contentQueries:function(t,e,i){var n;1&t&&w.Nb(i,Pt,!0),2&t&&w.Ic(n=w.kc())&&(e._draggables=n)},hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(t,e){2&t&&(w.ec("id",e.id),w.Lb("cdk-drop-list-disabled",e.disabled)("cdk-drop-list-dragging",e._dropListRef.isDragging())("cdk-drop-list-receiving",e._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],orientation:["cdkDropListOrientation","orientation"],id:"id",sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],disabled:["cdkDropListDisabled","disabled"],data:["cdkDropListData","data"],lockAxis:["cdkDropListLockAxis","lockAxis"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[w.Fb([{provide:Ft,useValue:void 0},{provide:Rt,useExisting:At}])]}),At._dropLists=[],At),zt=((Et=function t(){_classCallCheck(this,t)}).\u0275mod=w.Tb({type:Et}),Et.\u0275inj=w.Sb({factory:function(t){return new(t||Et)},providers:[wt]}),Et),Bt=i("Kj3r"),Wt=i("/MnI"),Ht=i("gU78"),Yt=(i("AJX/"),i("YFeJ")),qt=((Vt=function(){function t(e){_classCallCheck(this,t),this._httpClient=e,this.httpOptions={headers:new C.e({"Content-Type":"application/json",Authorization:"null"})},this.url=Yt.a.url}return _createClass(t,[{key:"add",value:function(t,e){var i=JSON.stringify(e);return this.httpOptions.headers=this.httpOptions.headers.set("Authorization",t),this._httpClient.post(this.url+"tag/add",i,this.httpOptions)}},{key:"edit",value:function(t,e,i){var n=JSON.stringify(i);return this.httpOptions.headers=this.httpOptions.headers.set("Authorization",t),this._httpClient.put(this.url+"tag/update/"+e,n,this.httpOptions)}},{key:"delete",value:function(t,e){return this.httpOptions.headers=this.httpOptions.headers.set("Authorization",t),this._httpClient.delete(this.url+"tag/delete/"+e,this.httpOptions)}},{key:"getList",value:function(t,e){return this.httpOptions.headers=this.httpOptions.headers.set("Authorization",t),this._httpClient.get(this.url+"tag/list",{headers:this.httpOptions.headers,params:e})}},{key:"getOne",value:function(t,e){return this.httpOptions.headers=this.httpOptions.headers.set("Authorization",t),this._httpClient.get(this.url+"tag/tag/"+e,this.httpOptions)}},{key:"getForName",value:function(t,e){return this.httpOptions.headers=this.httpOptions.headers.set("Authorization",t),this._httpClient.get(this.url+"tag/for-name/"+e,this.httpOptions)}}]),t}()).\u0275fac=function(t){return new(t||Vt)(w.fc(C.c))},Vt.\u0275prov=w.Rb({token:Vt,factory:Vt.\u0275fac}),Vt),Jt=i("wd/R"),Ut=i("dNgK"),$t=i("znSr"),Xt=((jt=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"transform",value:function(t,e){return void 0!==t&&e?t.filter((function(t){return t.title.toLowerCase().match(e.toLowerCase())||t.note.toLowerCase().match(e.toLowerCase())})):t}}]),t}()).\u0275fac=function(t){return new(t||jt)},jt.\u0275pipe=w.Ub({name:"todoSearch",type:jt,pure:!0}),jt);function Zt(t,e){if(1&t){var i=w.cc();w.bc(0,"button",3),w.jc("click",(function(t){w.Mc(i);var n=e.$implicit;return w.nc().filterTodoListOnTag(n)})),w.Vc(1),w.ac()}if(2&t){var n=e.$implicit;w.Gb(1),w.Xc(" ",n.name," ")}}function Qt(t,e){1&t&&(w.bc(0,"div",12),w.Vc(1," No hay tareas para mostrar "),w.ac())}function Kt(t,e){if(1&t&&(w.bc(0,"div"),w.bc(1,"mat-chip"),w.Vc(2),w.ac(),w.ac()),2&t){var i=e.$implicit;w.Gb(2),w.Xc(" ",i.name," ")}}var te=function(t,e){return{"todo-box":!0,readed:t,done:e}},ee=function(t){return{"fill-color-warn":t}},ie=function(t){return{"fill-color-accent":t}};function ne(t,e){if(1&t){var i=w.cc();w.bc(0,"div",13),w.bc(1,"mat-icon",14),w.Vc(2,"open_with"),w.ac(),w.bc(3,"div",15),w.bc(4,"div",16),w.bc(5,"span"),w.bc(6,"strong"),w.Vc(7),w.ac(),w.Vc(8),w.ac(),w.bc(9,"span"),w.Vc(10),w.ac(),w.bc(11,"mat-chip-list",null,17),w.Tc(13,Kt,3,1,"div",18),w.ac(),w.ac(),w.bc(14,"div",19),w.bc(15,"button",20),w.jc("click",(function(t){w.Mc(i);var n=e.$implicit;return w.nc().toggleImportant(n)})),w.bc(16,"mat-icon",21),w.Vc(17),w.ac(),w.ac(),w.bc(18,"button",20),w.jc("click",(function(t){w.Mc(i);var n=e.$implicit;return w.nc().toggleStar(n)})),w.bc(19,"mat-icon",21),w.Vc(20),w.ac(),w.ac(),w.bc(21,"div"),w.bc(22,"button",1),w.bc(23,"mat-icon"),w.Vc(24,"more_vert"),w.ac(),w.ac(),w.bc(25,"mat-menu",22,23),w.bc(27,"button",3),w.jc("click",(function(t){w.Mc(i);var n=e.$implicit;return w.nc().toggleRead(n)})),w.bc(28,"mat-icon"),w.Vc(29),w.ac(),w.bc(30,"span",24),w.Vc(31," Le\xeddo "),w.ac(),w.ac(),w.bc(32,"button",3),w.jc("click",(function(t){w.Mc(i);var n=e.$implicit;return w.nc().toggleDone(n)})),w.bc(33,"mat-icon"),w.Vc(34),w.ac(),w.bc(35,"span",24),w.Vc(36," Realizado "),w.ac(),w.ac(),w.ac(),w.ac(),w.ac(),w.ac(),w.ac()}if(2&t){var n=e.$implicit,o=w.Jc(26),r=w.nc();w.uc("ngClass",w.Bc(14,te,null==n.usersWhoRead?null:n.usersWhoRead.includes(r.identity._id),n.done)),w.Gb(4),w.wc("routerLink","/todo/list/",null==n?null:n._id,""),w.Gb(3),w.Wc(null==n?null:n.title),w.Gb(1),w.Xc(" | ",r.changeDate(null==n?null:n.startDate),""),w.Gb(2),w.Wc(null==n?null:n.note),w.Gb(3),w.uc("ngForOf",null==n?null:n.tags),w.Gb(3),w.uc("ngClass",w.Ac(17,ee,null==n?null:n.important)),w.Gb(1),w.Wc(null!=n&&n.important?"error":"error_outline"),w.Gb(2),w.uc("ngClass",w.Ac(19,ie,null==n?null:n.starred)),w.Gb(1),w.Wc(null!=n&&n.starred?"star":"star_outline"),w.Gb(2),w.uc("matMenuTriggerFor",o),w.Gb(3),w.uc("xPosition","before"),w.Gb(4),w.Wc(null!=n.usersWhoRead&&n.usersWhoRead.includes(r.identity._id)?"check_box":"check_box_outline_blank"),w.Gb(5),w.Wc(n.done?"check_box":"check_box_outline_blank")}}var oe,re=((oe=function(){function t(e,i,n,o,r,a){_classCallCheck(this,t),this.todoService=e,this._todoService=i,this._userService=n,this._tagService=o,this.cdr=r,this.snackBar=a,this.tagMap=new Map,this.isMasterToggled=!1,this.toggledItemNumber=0,this.filter="No Realizados",this.unsubscribeAll=new I.a,this.token=n.getToken(),this.identity=n.getIdentity()}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.getTodo(),this.getTags(),this.todoService.getSearchTerm().pipe(Object(Bt.a)(250)).pipe(Object(G.a)(this.unsubscribeAll)).subscribe((function(e){t.searchTerm=e,t.cdr.markForCheck()}))}},{key:"getTodo",value:function(){var t=this;this._todoService.getList(this.token,{}).subscribe((function(e){e.todos&&(t.tempList=e.todos,t.todoList=t.tempList.filter((function(e){var i;return-1!=(null===(i=e.users)||void 0===i?void 0:i.map((function(t){return t._id})).indexOf(t.identity._id))&&!e.done})))}),(function(e){t.openSnackBar(e.message,"Cerrar")}))}},{key:"getTags",value:function(){var t=this;this._tagService.getList(this.token,{}).subscribe((function(e){e.tags&&(t.tags=e.tags)}),(function(e){t.openSnackBar(e.message,"Cerrar")}))}},{key:"ngOnDestroy",value:function(){this.unsubscribeAll.next(),this.unsubscribeAll.complete()}},{key:"drop",value:function(t){ot(this.todoList,t.previousIndex,t.currentIndex),this.cdr.markForCheck()}},{key:"filterTodoListOnTag",value:function(t){var e=new Array;this.tempList.forEach((function(i){if(i.tags)for(var n=0;n<i.tags.length;n++)if(i.tags[n].name==t.name){e.push(i);break}})),this.todoList=e}},{key:"onTodoOptionSelected",value:function(t){var e=this;switch(t.target.innerText){case"Todo":this.todoList=this.tempList,this.filter="Todo";break;case"Todo - Pendientes":this.todoList=this.tempList.filter((function(t){return!t.done})),this.filter="Todo - Pendientes";break;case"Todo - Realizados":this.todoList=this.tempList.filter((function(t){return t.done})),this.filter="Todo - Realizados";break;case"Todo - Mios":this.todoList=this.tempList.filter((function(t){var i;return-1!=(null===(i=t.users)||void 0===i?void 0:i.map((function(t){return t._id})).indexOf(e.identity._id))})),this.filter="Mios";break;case"Le\xeddo":this.todoList=this.tempList.filter((function(t){var i,n;return-1!=(null===(i=t.users)||void 0===i?void 0:i.map((function(t){return t._id})).indexOf(e.identity._id))&&(null===(n=t.usersWhoRead)||void 0===n?void 0:n.includes(e.identity._id))})),this.filter="Le\xeddo";break;case"No Le\xeddo":this.todoList=this.tempList.filter((function(t){var i,n;return-1!=(null===(i=t.users)||void 0===i?void 0:i.map((function(t){return t._id})).indexOf(e.identity._id))&&!(null===(n=t.usersWhoRead)||void 0===n?void 0:n.includes(e.identity._id))})),this.filter="No Le\xeddo";break;case"Importante":this.todoList=this.tempList.filter((function(t){var i;return-1!=(null===(i=t.users)||void 0===i?void 0:i.map((function(t){return t._id})).indexOf(e.identity._id))&&t.important})),this.filter="Importante";break;case"No Importante":this.todoList=this.tempList.filter((function(t){var i;return-1!=(null===(i=t.users)||void 0===i?void 0:i.map((function(t){return t._id})).indexOf(e.identity._id))&&!t.important})),this.filter="No Importante";break;case"Realizado":this.todoList=this.tempList.filter((function(t){var i;return-1!=(null===(i=t.users)||void 0===i?void 0:i.map((function(t){return t._id})).indexOf(e.identity._id))&&t.done})),this.filter="Realizado";break;case"No Realizado":this.todoList=this.tempList.filter((function(t){var i;return-1!=(null===(i=t.users)||void 0===i?void 0:i.map((function(t){return t._id})).indexOf(e.identity._id))&&!t.done})),this.filter="No Realizado";break;case"Favorito":this.todoList=this.tempList.filter((function(t){var i;return-1!=(null===(i=t.users)||void 0===i?void 0:i.map((function(t){return t._id})).indexOf(e.identity._id))&&t.starred})),this.filter="Favorito";break;case"No Favorito":this.todoList=this.tempList.filter((function(t){var i;return-1!=(null===(i=t.users)||void 0===i?void 0:i.map((function(t){return t._id})).indexOf(e.identity._id))&&!t.starred})),this.filter="No favorito"}this.cdr.detectChanges()}},{key:"masterToggle",value:function(){var t=this;this.toggledItemNumber=0,this.isMasterToggled=!this.isMasterToggled,this.todoList.forEach(this.isMasterToggled?function(e){e.selected=!0,t.toggledItemNumber++}:function(e){e.selected=!1,t.toggledItemNumber--}),this.cdr.detectChanges()}},{key:"toggleCheckBox",value:function(t){t.selected=!t.selected,t.selected?this.toggledItemNumber++:this.toggledItemNumber--,this.toggledItemNumber==this.todoList.length?this.isMasterToggled=!0:0==this.toggledItemNumber&&(this.isMasterToggled=!1)}},{key:"toggleImportant",value:function(t){this.userInTodo(t)?(t.important=!t.important,this.updateTodo(t)):this.openSnackBar("No tienes permisos para modificar esta tarea","Cerrar")}},{key:"toggleStar",value:function(t){this.userInTodo(t)?(t.starred=!t.starred,this.updateTodo(t)):this.openSnackBar("No tienes permisos para modificar esta tarea","Cerrar")}},{key:"toggleRead",value:function(t){var e;(null===(e=t.usersWhoRead)||void 0===e?void 0:e.includes(this.identity._id))?t.usersWhoRead.splice(t.usersWhoRead.indexOf(this.identity._id),1):t.usersWhoRead.push(this.identity._id),this.updateTodo(t)}},{key:"toggleDone",value:function(t){this.userInTodo(t)?(t.done=!t.done,this.updateTodo(t)):this.openSnackBar("No tienes permisos para modificar esta tarea","Cerrar")}},{key:"updateTodo",value:function(t){var e=this;this._todoService.edit(this.token,t._id,t).subscribe((function(t){}),(function(t){e.openSnackBar(t.message,"Cerrar")}))}},{key:"openSnackBar",value:function(t,e){this.snackBar.open(t,e,{duration:1e4})}},{key:"userInTodo",value:function(t){var e;return!!t.users&&-1!=(null===(e=t.users)||void 0===e?void 0:e.map((function(t){return t._id})).indexOf(this.identity._id))}},{key:"changeDate",value:function(t){return Jt(t).format("DD-MM-YYYY")}}]),t}()).\u0275fac=function(t){return new(t||oe)(w.Vb(T),w.Vb(Wt.a),w.Vb(Ht.a),w.Vb(qt),w.Vb(w.h),w.Vb(Ut.a))},oe.\u0275cmp=w.Pb({type:oe,selectors:[["app-todo-list"]],decls:47,vars:9,consts:[["fxLayoutGap","5px"],["mat-icon-button","",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"click"],["tagMenu","matMenu"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],["fxLayout","row","fxFlex","1 1 0%","fxLayoutAlign","start center"],["fxLayout","row","fxFlex","1 1 0%","fxLayoutAlign","end center"],["mat-raised-button","","color","primary","routerLink","/todo/add"],["cdkDropList","",1,"todo-list",3,"cdkDropListDropped"],["class","todo-box","fxLayout","row","fxLayoutAlign","center center",4,"ngIf"],["fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","20px","cdkDrag","","cdkDragHandle","",3,"ngClass",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","center center",1,"todo-box"],["fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","20px","cdkDrag","","cdkDragHandle","",3,"ngClass"],[1,"move-handler"],["fxLayout","row","fxLayoutAlign","space-between center","fxFlex","1 1 0%"],["fxLayout","column","fxLayoutGap","8px","fxFlex","1 1 0%",2,"cursor","pointer",3,"routerLink"],["chipList",""],[4,"ngFor","ngForOf"],["fxFlexAlign","end center","fxLayout","row"],["mat-icon-button","",3,"click"],[3,"ngClass"],[3,"xPosition"],["menu2","matMenu"],[2,"vertical-align","middle"]],template:function(t,e){if(1&t&&(w.bc(0,"mat-toolbar",0),w.bc(1,"button",1),w.bc(2,"mat-icon"),w.Vc(3,"arrow_drop_down"),w.ac(),w.ac(),w.bc(4,"mat-menu",null,2),w.bc(6,"button",3),w.jc("click",(function(t){return e.onTodoOptionSelected(t)})),w.Vc(7,"Todo"),w.ac(),w.bc(8,"button",3),w.jc("click",(function(t){return e.onTodoOptionSelected(t)})),w.Vc(9,"Todo - Pendientes"),w.ac(),w.bc(10,"button",3),w.jc("click",(function(t){return e.onTodoOptionSelected(t)})),w.Vc(11,"Todo - Realizados"),w.ac(),w.bc(12,"button",3),w.jc("click",(function(t){return e.onTodoOptionSelected(t)})),w.Vc(13,"Todo - Mios"),w.ac(),w.bc(14,"button",3),w.jc("click",(function(t){return e.onTodoOptionSelected(t)})),w.Vc(15,"Realizado"),w.ac(),w.bc(16,"button",3),w.jc("click",(function(t){return e.onTodoOptionSelected(t)})),w.Vc(17,"No realizado"),w.ac(),w.bc(18,"button",3),w.jc("click",(function(t){return e.onTodoOptionSelected(t)})),w.Vc(19,"Le\xeddo"),w.ac(),w.bc(20,"button",3),w.jc("click",(function(t){return e.onTodoOptionSelected(t)})),w.Vc(21,"No le\xeddo"),w.ac(),w.bc(22,"button",3),w.jc("click",(function(t){return e.onTodoOptionSelected(t)})),w.Vc(23," Favorito "),w.ac(),w.bc(24,"button",3),w.jc("click",(function(t){return e.onTodoOptionSelected(t)})),w.Vc(25," No favorito "),w.ac(),w.bc(26,"button",3),w.jc("click",(function(t){return e.onTodoOptionSelected(t)})),w.Vc(27," Importante "),w.ac(),w.bc(28,"button",3),w.jc("click",(function(t){return e.onTodoOptionSelected(t)})),w.Vc(29," No importante "),w.ac(),w.ac(),w.bc(30,"button",1),w.bc(31,"mat-icon"),w.Vc(32,"label"),w.ac(),w.ac(),w.bc(33,"mat-menu",null,4),w.bc(35,"button",3),w.jc("click",(function(t){return e.onTodoOptionSelected({target:{innerText:"Todo"}})})),w.Vc(36," Todo "),w.ac(),w.Tc(37,Zt,2,1,"button",5),w.ac(),w.bc(38,"div",6),w.Vc(39),w.ac(),w.bc(40,"div",7),w.bc(41,"button",8),w.Vc(42," Crear tarea "),w.ac(),w.ac(),w.ac(),w.bc(43,"div",9),w.jc("cdkDropListDropped",(function(t){return e.drop(t)})),w.Tc(44,Qt,2,0,"div",10),w.Tc(45,ne,37,21,"div",11),w.oc(46,"todoSearch"),w.ac()),2&t){var i=w.Jc(5),n=w.Jc(34);w.Gb(1),w.uc("matMenuTriggerFor",i),w.Gb(29),w.uc("matMenuTriggerFor",n),w.Gb(7),w.uc("ngForOf",e.tags),w.Gb(2),w.Xc(" ",e.filter," "),w.Gb(5),w.uc("ngIf",(null==e.todoList?null:e.todoList.length)<1),w.Gb(1),w.uc("ngForOf",w.qc(46,6,e.todoList,e.searchTerm))}},directives:[v.a,S.e,s.b,m.c,g.a,m.d,m.a,y.l,S.d,S.b,S.c,D.h,Nt,y.m,Pt,Tt,y.k,$t.a,l.b,S.a,l.a],pipes:[Xt],styles:[".readed[_ngcontent-%COMP%]{background-color:#d3d3d3}.done[_ngcontent-%COMP%]{background-color:#90ee90}"],changeDetection:0}),oe),ae=function t(e,i,n){_classCallCheck(this,t),this._id=e,this.name=i,this.company=n};function se(t,e){if(1&t){var i=w.cc();w.bc(0,"button",9),w.jc("click",(function(t){w.Mc(i);var e=w.nc().$implicit;return w.nc().deleteTag(e)})),w.Vc(1,"Eliminar"),w.ac()}}function ce(t,e){if(1&t&&(w.bc(0,"div",0),w.bc(1,"span"),w.Vc(2),w.ac(),w.Tc(3,se,2,0,"button",8),w.ac()),2&t){var i=e.$implicit,n=w.nc();w.Gb(2),w.Wc(i.name),w.Gb(1),w.uc("ngIf","ROLE_ADMIN"!=n.identity.role)}}var le,ue=((le=function(){function t(e,i,n,o,r){_classCallCheck(this,t),this.snackBar=e,this.dialogRef=i,this.data=n,this._tagService=o,this._userService=r,this.token=r.getToken(),this.identity=r.getIdentity()}return _createClass(t,[{key:"ngOnInit",value:function(){this.getTags()}},{key:"getTags",value:function(){var t=this;this._tagService.getList(this.token,{company:this.identity.company._id}).subscribe((function(e){e.tags&&(t.tags=e.tags)}))}},{key:"addTag",value:function(t){var e=this,i=new ae("",t,this.identity.company._id);this._tagService.add(this.token,i).subscribe((function(t){t.tag&&e.getTags()}),(function(t){e.openSnackBar(t.message,"Cerrar")}))}},{key:"deleteTag",value:function(t){var e=this;this._tagService.delete(this.token,t._id).subscribe((function(t){t.tag&&e.getTags()}),(function(t){e.openSnackBar(t.message,"Cerrar")}))}},{key:"openSnackBar",value:function(t,e){this.snackBar.open(t,e,{duration:1e4})}}]),t}()).\u0275fac=function(t){return new(t||le)(w.Vb(Ut.a),w.Vb(h.g),w.Vb(h.a),w.Vb(qt),w.Vb(Ht.a))},le.\u0275cmp=w.Pb({type:le,selectors:[["app-tag-dialogue"]],decls:12,vars:1,consts:[["fxLayout","row","fxLayoutAlign","space-between center"],["matInput","","placeholder","Nueva etiqueta","required","",3,"keyup.enter"],["tagInput",""],["color","primary","mat-raised-button","",3,"click"],["fxLayout","column","fxLayoutGap","16px",2,"margin-top","20px"],["fxLayout","row","fxLayoutAlign","space-between center",4,"ngFor","ngForOf"],["align","end"],["mat-button","","mat-dialog-close",""],["color","warn","mat-raised-button","",3,"click",4,"ngIf"],["color","warn","mat-raised-button","",3,"click"]],template:function(t,e){if(1&t){var i=w.cc();w.bc(0,"mat-dialog-content"),w.bc(1,"div",0),w.bc(2,"mat-form-field"),w.bc(3,"input",1,2),w.jc("keyup.enter",(function(t){w.Mc(i);var n=w.Jc(4);return e.addTag(n.value),n.value=""})),w.ac(),w.ac(),w.bc(5,"button",3),w.jc("click",(function(t){w.Mc(i);var n=w.Jc(4);return e.addTag(n.value),n.value=""})),w.Vc(6,"A\xf1adir"),w.ac(),w.ac(),w.bc(7,"div",4),w.Tc(8,ce,4,2,"div",5),w.ac(),w.ac(),w.bc(9,"mat-dialog-actions",6),w.bc(10,"button",7),w.Vc(11,"Cerrar"),w.ac(),w.ac()}2&t&&(w.Gb(8),w.uc("ngForOf",e.tags))},directives:[h.e,S.d,S.c,f.b,_.b,s.b,S.e,y.l,h.c,h.d,y.m],styles:[""],changeDetection:0}),le),de=i("3uMe"),he=i("47Ty"),pe=i("AV9v"),fe=i("sd1j"),ge=i("Q2c7"),_e=i("d3UM");function me(t,e){if(1&t&&(w.bc(0,"button",39),w.bc(1,"mat-icon"),w.Vc(2,"person_add"),w.ac(),w.ac()),2&t){w.nc();var i=w.Jc(10);w.uc("matMenuTriggerFor",i)}}function ve(t,e){if(1&t){var i=w.cc();w.bc(0,"button",40),w.jc("click",(function(t){w.Mc(i);var n=e.$implicit;return w.nc().setAgent(n)})),w.Vc(1),w.ac()}if(2&t){var n=e.$implicit;w.Gb(1),w.Yc(" ",n.name," ",n.surname," ")}}function be(t,e){if(1&t){var i=w.cc();w.bc(0,"button",40),w.jc("click",(function(t){w.Mc(i);var n=e.$implicit;return w.nc().updateTodoTag(n)})),w.Vc(1),w.ac()}if(2&t){var n=e.$implicit;w.Gb(1),w.Xc(" ",n.name," ")}}function ye(t,e){if(1&t){var i=w.cc();w.bc(0,"div"),w.bc(1,"mat-chip",41),w.jc("removed",(function(t){w.Mc(i);var n=e.$implicit;return w.nc().removeTagFromTodo(n)})),w.bc(2,"span"),w.bc(3,"mat-icon",42),w.Vc(4,"label"),w.ac(),w.Vc(5),w.ac(),w.bc(6,"mat-icon",43),w.Vc(7,"cancel"),w.ac(),w.ac(),w.ac()}if(2&t){var n=e.$implicit;w.Gb(1),w.uc("selectable",!0)("removable",!0),w.Gb(4),w.Wc(n.name)}}function ke(t,e){if(1&t){var i=w.cc();w.bc(0,"div"),w.bc(1,"mat-chip",41),w.jc("removed",(function(t){w.Mc(i);var n=e.$implicit;return w.nc().deleteAgent(n)})),w.bc(2,"span"),w.bc(3,"mat-icon",42),w.Vc(4,"person"),w.ac(),w.Vc(5),w.ac(),w.bc(6,"mat-icon",43),w.Vc(7,"cancel"),w.ac(),w.ac(),w.ac()}if(2&t){var n=e.$implicit;w.Gb(1),w.uc("selectable",!0)("removable",!0),w.Gb(4),w.Yc("",n.name," ",n.surname,"")}}function De(t,e){if(1&t){var i=w.cc();w.bc(0,"mat-option",44),w.jc("click",(function(t){w.Mc(i);var n=e.$implicit;return w.nc().setTeam(n)})),w.Vc(1),w.ac()}if(2&t){var n=e.$implicit;w.uc("value",n.name),w.Gb(1),w.Wc(n.name)}}function xe(t,e){if(1&t){var i=w.cc();w.bc(0,"button",45),w.jc("click",(function(t){return w.Mc(i),w.nc(),w.Jc(67).clear(t)})),w.bc(1,"mat-icon"),w.Vc(2,"clear"),w.ac(),w.ac()}}function we(t,e){if(1&t){var i=w.cc();w.bc(0,"div",27),w.bc(1,"mat-chip",46),w.jc("click",(function(t){w.Mc(i);var n=e.$implicit;return w.nc().goToLink(n)}))("removed",(function(t){w.Mc(i);var n=e.$implicit;return w.nc().removeFileFromTodo(n)})),w.bc(2,"span"),w.bc(3,"mat-icon",42),w.Vc(4,"attach_file"),w.ac(),w.Vc(5),w.ac(),w.bc(6,"mat-icon",43),w.Vc(7,"cancel"),w.ac(),w.ac(),w.ac()}if(2&t){var n=e.index;w.Gb(1),w.uc("selectable",!0)("removable",!0),w.Gb(4),w.Xc("Archivo ",n+1,"")}}var Ce,Te,Se=function(t){return{"fill-color-warn":t}},Oe=function(t){return{"fill-color-accent":t}},Re=((Ce=function(){function t(e,i,n,o,r,a,s,c,l,u,d,h){_classCallCheck(this,t),this.todoService=e,this.tagDialogue=i,this._userService=n,this._todoService=o,this._tagService=r,this._teamService=a,this._notificationService=s,this.router=c,this.snackBar=l,this.route=u,this._uploadService=d,this.cdr=h,this.todo={title:"",note:"",startDate:"",dueDate:"",done:!1,important:!1,starred:!1,read:!1,selected:!1,tags:[],users:[],usersWhoRead:[],files:[]},this.url=Yt.a.url,this.teamName="",this.token=n.getToken(),this.identity=n.getIdentity(),this.agentsIn=new Array}return _createClass(t,[{key:"ngOnInit",value:function(){this.getTodo(),this.getTags(),this.getTeams()}},{key:"getTodo",value:function(){var t=this,e=this.route.snapshot.params.id;e&&this._todoService.getOne(this.token,e).subscribe((function(e){e.todo&&(console.log(e.todo),t.todo=e.todo,t.cdr.markForCheck(),t.todo.users&&(t.agentsIn=t.todo.users),t.todo.team&&(t.teamName=t.todo.team.name,t.getAgents(t.todo.team.users)))}),(function(e){t.openSnackBar(e.message,"Cerrar")}))}},{key:"getAgents",value:function(t){this.agents=t}},{key:"setAgent",value:function(t){this.agentsIn.push(t)}},{key:"deleteAgent",value:function(t){this.agentsIn.splice(this.agentsIn.indexOf(t),1)}},{key:"getTeams",value:function(){var t=this;this._teamService.getList(this.token,this.identity.company._id).subscribe((function(e){e.teams&&(t.teams=e.teams)}),(function(e){t.openSnackBar(e.message,"Cerrar")}))}},{key:"setTeam",value:function(t){this.todo.team=t._id,this.agentsIn=new Array,this.getAgents(t.users)}},{key:"saveTodo",value:function(){var t=this;if(this.agentsIn){var e=new Array;this.agentsIn.forEach((function(t){e.push(t._id)})),this.todo.users=e}this.todo._id?this._todoService.edit(this.token,this.todo._id,this.todo).subscribe((function(e){e.todo&&(t.uploadFile(e.todo._id),t._notificationService.getList(t.token,{todo:t.todo._id}).subscribe((function(e){e.notifications&&(e.notifications.forEach((function(e){if(-1!=t.todo.users.indexOf(e.user)){t.todo.users.splice(t.todo.users.indexOf(e.user),1),e.message=t.todo.title;var i=Jt(t.todo.startDate).format("YYYY-MM-DD HH:mm");e.date=i,e.dateInit=i,t._notificationService.edit(t.token,e._id,e).subscribe((function(t){}),(function(e){t.openSnackBar(e.message,"Cerrar")}))}else t._notificationService.delete(t.token,e._id).subscribe((function(t){}),(function(e){t.openSnackBar(e.message,"Cerrar")}))})),t.todo.users.length>0&&t.todo.users.forEach((function(e){var i=Jt(t.todo.startDate).format("YYYY-MM-DD HH:mm"),n=new pe.a("",t.todo.title,"list_alt",i,i,"todo/list/"+t.todo._id,"accent",e,null,t.todo._id);t._notificationService.add(t.token,n).subscribe((function(t){}),(function(t){}))})))}),(function(e){t.openSnackBar(e.message,"Cerrar")})),t.router.navigateByUrl("/todo/list"))}),(function(e){t.openSnackBar(e.message,"Cerrar")})):this._todoService.add(this.token,this.todo).subscribe((function(e){e.todo&&(t.uploadFile(e.todo._id),t.todo.users.forEach((function(i){var n=Jt(t.todo.startDate).format("YYYY-MM-DD HH:mm"),o=new pe.a("",t.todo.title,"list_alt",n,n,"todo/list/"+e.todo._id,"accent",i,null,e.todo._id);t._notificationService.add(t.token,o).subscribe((function(t){}),(function(t){}))})),t.router.navigateByUrl("/todo/list"))}),(function(e){t.openSnackBar(e.message,"Cerrar")}))}},{key:"uploadFile",value:function(t){var e=this;null!=this.files&&null!=this.files&&this._uploadService.makeFileRequest(this.url+"todo/file/"+t,[],this.files.files,this.token,"file").then((function(t){}),(function(t){e.openSnackBar(t.message,"Cerrar")}))}},{key:"deleteTodo",value:function(){var t=this;""!=this.todo._id?this._todoService.delete(this.token,this.todo._id).subscribe((function(e){e.todo&&t.router.navigateByUrl("/todo/list")}),(function(e){t.openSnackBar(e.message,"Cerrar")})):this.router.navigateByUrl("/todo/list")}},{key:"getTags",value:function(){var t=this;this._tagService.getList(this.token,{company:this.identity.company._id}).subscribe((function(e){e.tags&&(t.tagList=e.tags)}),(function(e){t.openSnackBar(e.message,"Cerrar")}))}},{key:"updateTodoTag",value:function(t){var e=this;this._todoService.addTag(this.token,this.todo._id,t._id).subscribe((function(i){i.todo&&e.todo.tags.push(t)}),(function(t){e.openSnackBar(t.message,"Cerrar")}))}},{key:"removeTagFromTodo",value:function(t){var e=this;this._todoService.removeTag(this.token,this.todo._id,t._id).subscribe((function(i){i.todo&&e.todo.tags.splice(e.todo.tags.indexOf(t),1)}),(function(t){e.openSnackBar(t.message,"Cerrar")}))}},{key:"openTagManaginDialogue",value:function(){var t=this;this.tagDialogue.open(ue,{}).afterClosed().subscribe((function(e){t.getTags()}))}},{key:"toggleImportant",value:function(){this.userInTodo()?this.todo.important=!this.todo.important:this.openSnackBar("No tienes permisos para modificar esta tarea","Cerrar")}},{key:"toggleStar",value:function(){this.userInTodo()?this.todo.starred=!this.todo.starred:this.openSnackBar("No tienes permisos para modificar esta tarea","Cerrar")}},{key:"toggleRead",value:function(){this.userInTodo()?(1==this.todo.read?this.todo.usersWhoRead.splice(this.todo.usersWhoRead.indexOf(this.identity._id),1):this.todo.usersWhoRead.push(this.identity._id),this.todo.read=!this.todo.read):this.openSnackBar("No tienes permisos para modificar esta tarea","Cerrar")}},{key:"toggleDone",value:function(){this.userInTodo()?this.todo.done=!this.todo.done:this.openSnackBar("No tienes permisos para modificar esta tarea","Cerrar")}},{key:"userInTodo",value:function(){var t;return!!this.todo.users&&-1!=(null===(t=this.todo.users)||void 0===t?void 0:t.map((function(t){return t._id})).indexOf(this.identity._id))}},{key:"openSnackBar",value:function(t,e){this.snackBar.open(t,e,{duration:1e4})}},{key:"checkExt",value:function(t){var e=t.split(".")[1];return("pdf"==e||"xlsx"==e||"xls"==e||"msg"==e||"docx"==e||"odt"==e||"rar"==e||"zip"==e||"png"==e||"jpge"==e||"jpeg"==e||"jpg"==e||"tif"==e||"tiff"==e)&&e}},{key:"goToLink",value:function(t){window.open(this.url+"todo/file/"+t,"_blank")}},{key:"removeFileFromTodo",value:function(t){this.todo.files.splice(this.todo.files.indexOf(t),1)}}]),t}()).\u0275fac=function(t){return new(t||Ce)(w.Vb(T),w.Vb(h.b),w.Vb(Ht.a),w.Vb(Wt.a),w.Vb(qt),w.Vb(de.a),w.Vb(he.a),w.Vb(D.g),w.Vb(Ut.a),w.Vb(D.a),w.Vb(ge.a),w.Vb(w.h))},Ce.\u0275cmp=w.Pb({type:Ce,selectors:[["app-todo-details"]],features:[w.Fb([{provide:u.c,useClass:fe.b},{provide:u.f,useValue:fe.a},he.a,ge.a])],decls:78,vars:36,consts:[["mat-icon-button","","routerLink","/todo/list"],[2,"margin-left","16px","font-size","14px",3,"checked","change"],["fxLayout","row","fxFlex","1 1 0%","fxLayoutAlign","end center"],["mat-icon-button","","matTooltip","A\xf1adir responsable",3,"matMenuTriggerFor",4,"ngIf"],[3,"xPosition"],["users","matMenu"],["style","text-transform: capitalize;","mat-menu-item","",3,"click",4,"ngFor","ngForOf"],["mat-icon-button","",3,"matTooltip","click"],[3,"ngClass"],["mat-icon-button","","matTooltip","Etiquetas",3,"click"],["mat-icon-button","","matTooltip","A\xf1adir etiqueta",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-icon-button","","matTooltip","Eliminar",3,"click"],[2,"margin","20px 0px 0px 16px"],["chipListTag",""],[4,"ngFor","ngForOf"],["chipListAgent",""],["fxLayout","column","fxLayoutGap","8px",2,"padding","0px 16px","margin-top","20px",3,"ngSubmit"],["type","text","name","title","matInput","","placeholder","T\xedtulo","required","",3,"ngModel","ngModelChange"],["name","note","matInput","","placeholder","Nota","matTextareaAutosize","",3,"ngModel","ngModelChange"],["fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","50px"],["name","startDate","matInput","","placeholder","Fecha de inicio","required","",3,"ngModel","matDatepicker","ngModelChange"],["matSuffix","",3,"for"],["picker",""],["name","dueDate","matInput","","placeholder","Fecha de vencimiento","required","",3,"ngModel","matDatepicker","ngModelChange"],["picker2",""],["fxLayout","row","fxLayoutAlign","start center"],["fxFlex",""],["name","teamName",3,"ngModel","ngModelChange"],[3,"value","click",4,"ngFor","ngForOf"],["fxFlex","","name","files","placeholder","Adjuntar archivos","multiple","",3,"ngModel","ngModelChange"],["removableInput",""],["mat-icon-button","","matSuffix","",3,"click",4,"ngIf"],["fxFlex","6px"],["chipListFile",""],["fxFlex","",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","16px"],["type","button","mat-button","","routerLink","/todo/list"],["color","primary","mat-raised-button",""],["mat-icon-button","","matTooltip","A\xf1adir responsable",3,"matMenuTriggerFor"],["mat-menu-item","",2,"text-transform","capitalize",3,"click"],["fxLayout","row","fxLayoutAlign","center center",3,"selectable","removable","removed"],[2,"font-size","18px"],["matChipRemove",""],[3,"value","click"],["mat-icon-button","","matSuffix","",3,"click"],["fxLayout","row","fxLayoutAlign","center center",3,"selectable","removable","click","removed"]],template:function(t,e){if(1&t&&(w.bc(0,"mat-toolbar"),w.bc(1,"button",0),w.bc(2,"mat-icon"),w.Vc(3,"arrow_back"),w.ac(),w.ac(),w.bc(4,"mat-checkbox",1),w.jc("change",(function(t){return e.toggleDone()})),w.bc(5,"span"),w.Vc(6),w.ac(),w.ac(),w.bc(7,"div",2),w.Tc(8,me,3,1,"button",3),w.bc(9,"mat-menu",4,5),w.Tc(11,ve,2,2,"button",6),w.ac(),w.bc(12,"button",7),w.jc("click",(function(t){return e.toggleRead()})),w.bc(13,"mat-icon"),w.Vc(14),w.ac(),w.ac(),w.bc(15,"button",7),w.jc("click",(function(t){return e.toggleImportant()})),w.bc(16,"mat-icon",8),w.Vc(17),w.ac(),w.ac(),w.bc(18,"button",7),w.jc("click",(function(t){return e.toggleStar()})),w.bc(19,"mat-icon",8),w.Vc(20),w.ac(),w.ac(),w.bc(21,"button",9),w.jc("click",(function(t){return e.openTagManaginDialogue()})),w.bc(22,"mat-icon"),w.Vc(23,"library_add"),w.ac(),w.ac(),w.bc(24,"button",10),w.bc(25,"mat-icon"),w.Vc(26,"label"),w.ac(),w.ac(),w.bc(27,"mat-menu",4,11),w.Tc(29,be,2,1,"button",6),w.ac(),w.bc(30,"button",12),w.jc("click",(function(t){return e.deleteTodo()})),w.bc(31,"mat-icon"),w.Vc(32,"delete_outline"),w.ac(),w.ac(),w.ac(),w.ac(),w.bc(33,"div",13),w.bc(34,"mat-chip-list",null,14),w.Tc(36,ye,8,3,"div",15),w.ac(),w.bc(37,"mat-chip-list",null,16),w.Tc(39,ke,8,4,"div",15),w.ac(),w.ac(),w.bc(40,"form",17),w.jc("ngSubmit",(function(t){return e.saveTodo()})),w.bc(41,"mat-form-field"),w.bc(42,"input",18),w.jc("ngModelChange",(function(t){return e.todo.title=t})),w.ac(),w.ac(),w.bc(43,"mat-form-field"),w.bc(44,"textarea",19),w.jc("ngModelChange",(function(t){return e.todo.note=t})),w.ac(),w.ac(),w.bc(45,"div",20),w.bc(46,"mat-form-field"),w.bc(47,"input",21),w.jc("ngModelChange",(function(t){return e.todo.startDate=t})),w.ac(),w.Wb(48,"mat-datepicker-toggle",22),w.Wb(49,"mat-datepicker",null,23),w.ac(),w.bc(51,"mat-form-field"),w.bc(52,"input",24),w.jc("ngModelChange",(function(t){return e.todo.dueDate=t})),w.ac(),w.Wb(53,"mat-datepicker-toggle",22),w.Wb(54,"mat-datepicker",null,25),w.ac(),w.ac(),w.bc(56,"div",26),w.bc(57,"mat-form-field",27),w.bc(58,"mat-label"),w.Vc(59,"Equipo"),w.ac(),w.bc(60,"mat-select",28),w.jc("ngModelChange",(function(t){return e.teamName=t})),w.bc(61,"mat-option"),w.Vc(62),w.ac(),w.Tc(63,De,2,2,"mat-option",29),w.ac(),w.ac(),w.ac(),w.bc(64,"div",26),w.bc(65,"mat-form-field"),w.bc(66,"ngx-mat-file-input",30,31),w.jc("ngModelChange",(function(t){return e.files=t})),w.ac(),w.Tc(68,xe,3,0,"button",32),w.ac(),w.Wb(69,"span",33),w.bc(70,"mat-chip-list",null,34),w.Tc(72,we,8,3,"div",35),w.ac(),w.ac(),w.bc(73,"div",36),w.bc(74,"button",37),w.Vc(75,"Cancelar"),w.ac(),w.bc(76,"button",38),w.Vc(77,"Guardar"),w.ac(),w.ac(),w.ac()),2&t){var i=w.Jc(28),n=w.Jc(50),o=w.Jc(55),r=w.Jc(67);w.Gb(4),w.uc("checked",e.todo.done),w.Gb(2),w.Xc(" ",e.todo.done?"Marcar como no realizado":"Marcar como realizado"," "),w.Gb(2),w.uc("ngIf",e.todo.team),w.Gb(1),w.uc("xPosition","before"),w.Gb(2),w.uc("ngForOf",e.agents),w.Gb(1),w.vc("matTooltip",null!=e.todo.usersWhoRead&&e.todo.usersWhoRead.includes(e.identity._id)?"Marcar como no le\xeddo":"Marcar como le\xeddo"),w.Gb(2),w.Wc(null!=e.todo.usersWhoRead&&e.todo.usersWhoRead.includes(e.identity._id)?"drafts":"markunread"),w.Gb(1),w.vc("matTooltip",e.todo.important?"Marcar como no importante":"Marcar como importante"),w.Gb(1),w.uc("ngClass",w.Ac(32,Se,null==e.todo?null:e.todo.important)),w.Gb(1),w.Wc(e.todo.important?"error":"error_outline"),w.Gb(1),w.vc("matTooltip",e.todo.starred?"Remover de favoritos":"Marcar como favorito"),w.Gb(1),w.uc("ngClass",w.Ac(34,Oe,null==e.todo?null:e.todo.starred)),w.Gb(1),w.Wc(e.todo.starred?"star":"star_outline"),w.Gb(4),w.uc("matMenuTriggerFor",i),w.Gb(3),w.uc("xPosition","before"),w.Gb(2),w.uc("ngForOf",e.tagList),w.Gb(7),w.uc("ngForOf",null==e.todo?null:e.todo.tags),w.Gb(3),w.uc("ngForOf",e.agentsIn),w.Gb(3),w.uc("ngModel",e.todo.title),w.Gb(2),w.uc("ngModel",e.todo.note),w.Gb(3),w.uc("ngModel",e.todo.startDate)("matDatepicker",n),w.Gb(1),w.uc("for",n),w.Gb(4),w.uc("ngModel",e.todo.dueDate)("matDatepicker",o),w.Gb(1),w.uc("for",o),w.Gb(7),w.uc("ngModel",e.teamName),w.Gb(2),w.Wc(e.teamName),w.Gb(1),w.uc("ngForOf",e.teams),w.Gb(3),w.uc("ngModel",e.files),w.Gb(2),w.uc("ngIf",!r.empty),w.Gb(4),w.uc("ngForOf",null==e.todo?null:e.todo.files)}},directives:[v.a,s.b,D.h,g.a,c.a,S.d,S.b,S.c,y.m,m.d,y.l,b.a,y.k,$t.a,m.c,l.b,a.x,a.o,a.p,S.e,f.b,_.b,a.c,a.u,a.n,a.q,_.d,d.b,d.d,f.f,d.a,f.e,_e.a,u.p,k.a,m.a,l.a,l.c],styles:[""],changeDetection:0}),Ce),Le=[{path:"",component:O,children:[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:re},{path:"add",component:Re},{path:"list/:id",component:Re}]}],Pe=((Te=function t(){_classCallCheck(this,t)}).\u0275mod=w.Tb({type:Te}),Te.\u0275inj=w.Sb({factory:function(t){return new(t||Te)},imports:[[D.k.forChild(Le)],D.k]}),Te),Ie=i("YUcS");i.d(e,"TodoModule",(function(){return Ae}));var Ee,Ae=((Ee=function t(){_classCallCheck(this,t)}).\u0275mod=w.Tb({type:Ee}),Ee.\u0275inj=w.Sb({factory:function(t){return new(t||Ee)},providers:[Ht.a,Wt.a,qt,de.a],imports:[[y.c,Pe,g.b,c.b,a.j,m.b,s.c,k.b,f.d,p.b,zt,Ie.a,u.v,v.b,_.c,d.c,u.n,_.c,a.t,b.b,h.f,_e.b,l.d,r.c]]}),Ee)}}]);