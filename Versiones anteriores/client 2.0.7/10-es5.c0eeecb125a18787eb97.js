function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var c=t[n];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(e,c.key,c)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"3uMe":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n("AJX/");var c=n("YFeJ"),a=n("tk/3"),i=n("fXoL"),r=function(){var e=function(){function e(t){_classCallCheck(this,e),this._httpClient=t,this.httpOptions={headers:new a.e({"Content-Type":"application/json",Authorization:"null"})},this.url=c.a.url}return _createClass(e,[{key:"add",value:function(e,t){var n=JSON.stringify(t);return this.httpOptions.headers=this.httpOptions.headers.set("Authorization",e),this._httpClient.post(this.url+"team/add",n,this.httpOptions)}},{key:"edit",value:function(e,t,n){var c=JSON.stringify(n);return this.httpOptions.headers=this.httpOptions.headers.set("Authorization",e),this._httpClient.put(this.url+"team/update/"+t,c,this.httpOptions)}},{key:"addUser",value:function(e,t,n){var c={user:n};return this.httpOptions.headers=this.httpOptions.headers.set("Authorization",e),this._httpClient.put(this.url+"team/add-user/"+t,c,this.httpOptions)}},{key:"removeUser",value:function(e,t,n){return this.httpOptions.headers=this.httpOptions.headers.set("Authorization",e),this._httpClient.put(this.url+"team/remove-user/"+t,{user:n},this.httpOptions)}},{key:"delete",value:function(e,t){return this.httpOptions.headers=this.httpOptions.headers.set("Authorization",e),this._httpClient.delete(this.url+"team/delete/"+t,this.httpOptions)}},{key:"getForName",value:function(e,t,n){return this.httpOptions.headers=this.httpOptions.headers.set("Authorization",e),this._httpClient.get(this.url+"team/for-name/"+t+"/"+n,this.httpOptions)}},{key:"getList",value:function(e,t){return this.httpOptions.headers=this.httpOptions.headers.set("Authorization",e),this._httpClient.get(this.url+"team/teams/"+t,this.httpOptions)}},{key:"getTeamsOfUser",value:function(e,t){return this.httpOptions.headers=this.httpOptions.headers.set("Authorization",e),this._httpClient.get(this.url+"team/for-user/"+t,this.httpOptions)}},{key:"getAgentsList",value:function(e,t,n){return this.httpOptions.headers=this.httpOptions.headers.set("Authorization",e),this._httpClient.get(this.url+"team/agents/"+t+"/"+n,this.httpOptions)}},{key:"getOne",value:function(e,t){return this.httpOptions.headers=this.httpOptions.headers.set("Authorization",e),this._httpClient.get(this.url+"team/team/"+t,this.httpOptions)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.fc(a.c))},e.\u0275prov=i.Rb({token:e,factory:e.\u0275fac}),e}()},Q2c7:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n("AJX/");var c=n("YFeJ"),a=n("fXoL"),i=n("qlzE"),r=function(){var e=function(){function e(t){_classCallCheck(this,e),this._http=t,this.url=c.a.url}return _createClass(e,[{key:"makeFileRequest",value:function(e,t,n,c,a){return new Promise((function(t,i){for(var r=new FormData,s=new XMLHttpRequest,o=0;o<n.length;o++)r.append(a,n[o],n[o].name);s.onreadystatechange=function(){4==s.readyState&&(200==s.status?t(JSON.parse(s.response)):i(s.response))},s.open("POST",e,!0),s.setRequestHeader("Authorization",c),s.send(r)}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(a.fc(i.a))},e.\u0275prov=a.Rb({token:e,factory:e.\u0275fac}),e}()},mtpT:function(e,t,n){"use strict";n.r(t);var c=n("ofXK"),a=n("tyNb"),i=n("bSwM"),r=n("QibW"),s=n("qFsG"),o=n("lDzL"),u=n("NFeN"),l=n("bTqV"),m=n("Wp6s"),d=n("f0Cb"),f=n("wZkO"),b=n("MutI"),p=n("YUcS"),h=n("aYsj"),g=n("kmnG"),v=n("d3UM"),y=n("3Pt+"),k=n("1jcm"),M=n("Qu3c"),w=n("PCNd"),C=n("wd/R"),x=n("gU78"),I=n("fXoL"),_=n("dNgK");function G(e,t){if(1&e){var n=I.cc();I.bc(0,"div",5),I.bc(1,"button",6),I.jc("click",(function(e){return I.Mc(n),I.nc().toNew()})),I.Vc(2,"Nuevo"),I.ac(),I.ac()}}var O,T=((O=function(){function e(t,n,c,a){_classCallCheck(this,e),this._userService=t,this._route=n,this._router=c,this.snackBar=a,this.rows=[],this.columns=[],this.temp=[],this.canCreate=!1,this.token=t.getToken(),this.identity=t.getIdentity()}return _createClass(e,[{key:"ngOnInit",value:function(){this.getColumns(),this.getUsers(),"ROLE_ADMIN"!=this.identity.role&&"ROLE_AGENT"!=this.identity.role||(this.canCreate=!0)}},{key:"getUsers",value:function(){var e=this;this._userService.getListReq(this.token,this.identity.company._id).subscribe((function(t){t.users&&(e.rows=t.users,e.temp=t.users)}),(function(t){e.openSnackBar(t.message,"Cerrar")}))}},{key:"setQuery",value:function(){this.query={}}},{key:"openSnackBar",value:function(e,t){this.snackBar.open(e,t,{duration:1e4})}},{key:"getColumns",value:function(){this.columns=[{prop:"name",name:"Nombre",flexGrow:1},{prop:"surname",name:"Apellido",flexGrow:1},{prop:"email",name:"Email",flexGrow:1},{prop:"phone",name:"Interno",flexGrow:1},{prop:"userName",name:"Usuario",flexGrow:1}]}},{key:"changeDate",value:function(e){return C(e,"YYYY-MM-DD HH:mm").format("DD-MM-YYYY HH:mm")}},{key:"updateFilter",value:function(e){var t=e.target.value.toLowerCase(),n=Object.keys(this.temp[0]);if(n.splice(n.length-1),n.length){var c=this.temp.filter((function(e){for(var c=0;c<=n.length;c++){var a=n[c];if(e[a]&&e[a].toString().toLowerCase().indexOf(t)>-1)return!0}}));this.rows=c}}},{key:"toNew",value:function(){this._router.navigate(["/user/new/requester"])}},{key:"toProfile",value:function(e){"click"==e.type&&this._router.navigate(["/user/profile/",e.row._id])}}]),e}()).\u0275fac=function(e){return new(e||O)(I.Vb(x.a),I.Vb(a.a),I.Vb(a.g),I.Vb(_.a))},O.\u0275cmp=I.Pb({type:O,selectors:[["app-req-list"]],features:[I.Fb([x.a])],decls:5,vars:8,consts:[[1,"margin-333",2,"width","100%"],["matInput","","placeholder","Filtrar por todas las columnas","value","",3,"keyup"],["class","profile-actions mb-1","style","margin-left: 5px;",4,"ngIf"],[1,"mat-box-shadow","margin-333"],[1,"material","bg-white",3,"columnMode","headerHeight","footerHeight","rowHeight","limit","rows","columns","activate"],[1,"profile-actions","mb-1",2,"margin-left","5px"],["mat-raised-button","","color","primary",3,"click"]],template:function(e,t){1&e&&(I.bc(0,"mat-form-field",0),I.bc(1,"input",1),I.jc("keyup",(function(e){return t.updateFilter(e)})),I.ac(),I.ac(),I.Tc(2,G,3,0,"div",2),I.bc(3,"div",3),I.bc(4,"ngx-datatable",4),I.jc("activate",(function(e){return t.toProfile(e)})),I.ac(),I.ac()),2&e&&(I.Gb(2),I.uc("ngIf",t.canCreate),I.Gb(2),I.uc("columnMode","flex")("headerHeight",40)("footerHeight",50)("rowHeight",50)("limit",7)("rows",t.rows)("columns",t.columns))},directives:[g.b,s.b,c.m,o.d,l.b],styles:[""]}),O),V=n("+8wx"),A=n("O4PR"),S=n("YFeJ"),j=n("Q2c7"),R=n("jZsi"),N=function e(t,n,c,a){_classCallCheck(this,e),this._id=t,this.hashtag=n,this.resp=c,this.user=a},F=n("3kSh"),U=n("XiUz"),E=n("FKr1");function L(e,t){if(1&e){var n=I.cc();I.bc(0,"button",39),I.jc("click",(function(e){return I.Mc(n),I.nc(3).openAttachment()})),I.bc(1,"mat-icon"),I.Vc(2,"edit"),I.ac(),I.ac()}}function B(e,t){if(1&e&&(I.bc(0,"div",36),I.Wb(1,"img",37),I.Tc(2,L,3,0,"button",38),I.ac()),2&e){var n=I.nc(2);I.Gb(2),I.uc("ngIf",n.isAdmin||n.isUser)}}function D(e,t){if(1&e){var n=I.cc();I.bc(0,"button",39),I.jc("click",(function(e){return I.Mc(n),I.nc(3).openAttachment()})),I.bc(1,"mat-icon"),I.Vc(2,"edit"),I.ac(),I.ac()}}function H(e,t){if(1&e&&(I.bc(0,"div",36),I.Wb(1,"img",40),I.Tc(2,D,3,0,"button",38),I.ac()),2&e){var n=I.nc(2);I.Gb(1),I.vc("src",n.url+"user/image/"+n.user.image,I.Oc),I.Gb(1),I.uc("ngIf",n.isAdmin||n.isUser)}}function P(e,t){if(1&e&&(I.bc(0,"span"),I.Vc(1),I.ac()),2&e){var n=I.nc(2);I.Gb(1),I.Wc(n.user.sector.name)}}function Y(e,t){if(1&e){var n=I.cc();I.bc(0,"mat-option",43),I.jc("click",(function(e){I.Mc(n);var c=t.$implicit;return I.nc(3).setSector(c._id)})),I.Vc(1),I.ac()}if(2&e){var c=t.$implicit;I.uc("value",c),I.Gb(1),I.Xc("",c.name," ")}}function q(e,t){if(1&e&&(I.bc(0,"mat-form-field",41),I.bc(1,"mat-label"),I.Vc(2,"Cambiar sector"),I.ac(),I.bc(3,"mat-select"),I.Tc(4,Y,2,2,"mat-option",42),I.ac(),I.ac()),2&e){var n=I.nc(2);I.Gb(4),I.uc("ngForOf",n.sectors)}}function W(e,t){if(1&e&&(I.bc(0,"span"),I.Vc(1),I.ac()),2&e){var n=I.nc(2);I.Gb(1),I.Xc(" ",n.user.email," ")}}function z(e,t){1&e&&(I.bc(0,"span"),I.Vc(1," - "),I.ac())}function X(e,t){if(1&e&&(I.bc(0,"span"),I.Vc(1),I.ac()),2&e){var n=I.nc(2);I.Gb(1),I.Xc(" ",n.user.phone," ")}}function $(e,t){1&e&&(I.bc(0,"span"),I.Vc(1," - "),I.ac())}function Q(e,t){if(1&e){var n=I.cc();I.bc(0,"div",24),I.bc(1,"mat-card",25),I.Tc(2,B,3,1,"div",26),I.Tc(3,H,3,2,"div",26),I.bc(4,"input",27),I.jc("change",(function(e){return I.Mc(n),I.nc().fileChangeEvent(e)})),I.ac(),I.bc(5,"div",28),I.bc(6,"div",29),I.Vc(7),I.ac(),I.bc(8,"div",30),I.Tc(9,P,2,1,"span",31),I.Tc(10,q,5,1,"mat-form-field",32),I.ac(),I.ac(),I.ac(),I.bc(11,"mat-card",33),I.bc(12,"mat-card-title"),I.Vc(13,"Informaci\xf3n de contacto"),I.ac(),I.bc(14,"mat-card-content",34),I.bc(15,"mat-list"),I.bc(16,"mat-list-item"),I.bc(17,"mat-icon",35),I.Vc(18,"email"),I.ac(),I.Tc(19,W,2,1,"span",31),I.Tc(20,z,2,0,"span",31),I.ac(),I.bc(21,"mat-list-item"),I.bc(22,"mat-icon",35),I.Vc(23,"phone"),I.ac(),I.Tc(24,X,2,1,"span",31),I.Tc(25,$,2,0,"span",31),I.ac(),I.ac(),I.ac(),I.ac(),I.ac()}if(2&e){var c=I.nc();I.Gb(2),I.uc("ngIf","null"==c.user.image),I.Gb(1),I.uc("ngIf","null"!=c.user.image),I.Gb(4),I.Yc("",c.user.surname,", ",c.user.name,""),I.Gb(2),I.uc("ngIf",c.user.sector),I.Gb(1),I.uc("ngIf",c.isAdmin),I.Gb(9),I.uc("ngIf",""!=c.user.email),I.Gb(1),I.uc("ngIf",""==c.user.email),I.Gb(4),I.uc("ngIf",null!=c.user.phone),I.Gb(1),I.uc("ngIf",!c.user.phone||null==c.user.phone)}}function J(e,t){if(1&e){var n=I.cc();I.bc(0,"mat-checkbox",44),I.jc("change",(function(e){return I.Mc(n),I.nc().changeAdm(e.checked)})),I.Vc(1,"Administrador "),I.ac()}if(2&e){var c=I.nc();I.uc("checked","ROLE_ADMIN"==c.user.role)("color","primary")("disabled",!c.isAdmin)}}function K(e,t){if(1&e){var n=I.cc();I.bc(0,"mat-form-field",6),I.bc(1,"input",45),I.jc("ngModelChange",(function(e){return I.Mc(n),I.nc().password.new=e})),I.ac(),I.ac()}if(2&e){var c=I.nc();I.Gb(1),I.uc("readonly",!c.isAdmin&&!c.isUser)("ngModel",c.password.new)}}function Z(e,t){if(1&e){var n=I.cc();I.bc(0,"mat-form-field",6),I.bc(1,"input",46),I.jc("ngModelChange",(function(e){return I.Mc(n),I.nc().password.confirm=e})),I.ac(),I.ac()}if(2&e){var c=I.nc();I.Gb(1),I.uc("readonly",!c.isAdmin&&!c.isUser)("ngModel",c.password.confirm)}}function ee(e,t){if(1&e){var n=I.cc();I.bc(0,"mat-tab",47),I.bc(1,"mat-card-content",5),I.bc(2,"form"),I.bc(3,"mat-form-field",6),I.bc(4,"input",48),I.jc("ngModelChange",(function(e){return I.Mc(n),I.nc().newResponse.hashtag=e})),I.ac(),I.ac(),I.bc(5,"mat-form-field",6),I.bc(6,"input",49),I.jc("ngModelChange",(function(e){return I.Mc(n),I.nc().newResponse.resp=e})),I.ac(),I.ac(),I.bc(7,"button",13),I.jc("click",(function(e){return I.Mc(n),I.nc().saveResponse()})),I.Vc(8,"A\xf1adir"),I.ac(),I.ac(),I.bc(9,"ngx-datatable",50),I.jc("activate",(function(e){return I.Mc(n),I.nc().deleteResponse(e)})),I.ac(),I.ac(),I.ac()}if(2&e){var c=I.nc();I.Gb(4),I.uc("ngModel",c.newResponse.hashtag),I.Gb(2),I.uc("ngModel",c.newResponse.resp),I.Gb(3),I.uc("columnMode","flex")("headerHeight",40)("footerHeight",50)("rowHeight",50)("limit",5)("rows",c.responses)("columns",c.responseColumns)}}var te,ne=((te=function(){function e(t,n,c,a,i,r,s){_classCallCheck(this,e),this._userService=t,this._sectorService=n,this.confirmService=c,this._uploadService=a,this._responseService=i,this._route=r,this.snackBar=s,this.responseColumns=[],this.responses=[],this.token=t.getToken(),this.identity=t.getIdentity(),this.url=S.a.url,this.user=new V.a("",null,"","",null,"","","",null,"",!1,"","","","",!1,"",!1,!0),this.newResponse=new N("","","",""),this.isAdmin=!1,this.isUser=!1,this.isNew=!1,this.password={new:"",confirm:""}}return _createClass(e,[{key:"ngOnInit",value:function(){this.getUser(),this.getSectors(),this.getColumns(),this.getResponses()}},{key:"getUser",value:function(){var e=this;this._route.params.forEach((function(t){e._userService.getOne(e.token,t.id).subscribe((function(t){t.user&&(e.user=t.user,e.user.password="",("ROLE_ADMIN"==e.identity.role||"ROLE_REQUESTER"==e.user.role&&"ROLE_AGENT"==e.identity.role)&&e.identity.company&&"Sistemas"==e.identity.company.name&&(e.isAdmin=!0),e.user._id==e.identity._id&&(e.isUser=!0),e.role=e.user.role)}),(function(t){e.openSnackBar(t.message,"Cerrar")}))}))}},{key:"getSectors",value:function(){var e=this;this._sectorService.getList(this.token).subscribe((function(t){t.sectors&&(e.sectors=t.sectors)}),(function(t){e.openSnackBar(t.message,"Cerrar")}))}},{key:"getResponses",value:function(){var e=this;this._responseService.getList(this.token,this.identity._id).subscribe((function(t){t.responses&&(e.responses=t.responses)}),(function(t){e.openSnackBar(t.message,"Cerrar")}))}},{key:"saveResponse",value:function(){var e=this;""!=this.newResponse.hashtag&&""!=this.newResponse.resp?(this.newResponse.user=this.identity._id,this.newResponse.hashtag="#"+this.newResponse.hashtag.replace(" ",""),this._responseService.add(this.token,this.newResponse).subscribe((function(t){t.response&&(e.openSnackBar("Respuesta autom\xe1tica a\xf1adida","Cerrar"),e.getResponses(),e.newResponse.hashtag="",e.newResponse.resp="")}),(function(t){e.openSnackBar(t.message,"Cerrar")}))):this.openSnackBar("Faltan campos para completar","Cerrar")}},{key:"deleteResponse",value:function(e){var t=this;"click"==e.type&&this.confirmService.confirm({message:"\xbfEstas seguro que quieres eliminar "+e.row.hashtag+"?"}).subscribe((function(n){n&&t._responseService.delete(t.token,e.row._id).subscribe((function(e){e.response&&(t.getResponses(),t.openSnackBar("Respuesta autom\xe1tica eliminada","Cerrar"))}),(function(e){t.openSnackBar(e.message,"Cerrar")}))}))}},{key:"setSector",value:function(e){this.user.sector=e,this.editUser()}},{key:"getColumns",value:function(){this.responseColumns=[{prop:"hashtag",name:"Nombre",flexGrow:1},{prop:"resp",name:"Respuesta",flexGrow:4}]}},{key:"editUser",value:function(){var e=this;if(""!=this.user.name&&""!=this.user.surname&&""!=this.user.userName&&""!=this.user.email){if((this.user.sign="")&&(this.user.sign=null),""==this.user.password)delete this.user.password;else if(this.password.new!=this.password.confirm)return this.openSnackBar("La nueva contrase\xf1a no coincide con su confirmaci\xf3n","Cerrar");this._userService.edit(this.token,this.user).subscribe((function(t){t.user&&(e.openSnackBar("Datos actualizados","Cerrar"),e.getUser())}),(function(t){e.openSnackBar(t.message,"Cerrar")}))}else this.openSnackBar("Faltan campos para completar","Cerrar")}},{key:"openAttachment",value:function(){document.getElementById("attachment").click()}},{key:"openSnackBar",value:function(e,t){this.snackBar.open(e,t,{duration:1e4})}},{key:"changeAdm",value:function(e){console.log(e),this.user.role=1==e?"ROLE_ADMIN":this.role}},{key:"fileChangeEvent",value:function(e){var t=this;this.filesToUpload=e.target.files,this._uploadService.makeFileRequest(this.url+"user/image/"+this.user._id,[],this.filesToUpload,this.token,"image"),setTimeout((function(){t.getUser(),t.openSnackBar("Foto de perfil actualizada","Cerrar")}),1e3)}}]),e}()).\u0275fac=function(e){return new(e||te)(I.Vb(x.a),I.Vb(A.a),I.Vb(F.a),I.Vb(j.a),I.Vb(R.a),I.Vb(a.a),I.Vb(_.a))},te.\u0275cmp=I.Pb({type:te,selectors:[["app-user-profile"]],features:[I.Fb([x.a,A.a,j.a,R.a])],decls:49,vars:31,consts:[["fxLayout","row wrap"],["fxFlex","100","fxFlex.gt-md","300px","fxFlex.gt-sm","50",4,"ngIf"],["fxFlex","100","fxFlex.gt-md","calc(100% - 300px)",3,"fxFlex.gt-sm"],[1,"p-0"],["label","Datos personales"],[1,"mt-1"],[1,"full-width"],["matInput","","name","name","type","text","placeholder","Nombre",3,"readonly","ngModel","ngModelChange"],["matInput","","name","surname","type","text","placeholder","Apellido",3,"readonly","ngModel","ngModelChange"],["matInput","","name","dni","type","number","placeholder","DNI",3,"readonly","ngModel","ngModelChange"],["matInput","","type","number","name","legajo","placeholder","Legajo",3,"readonly","ngModel","ngModelChange"],["matInput","","type","text","name","email","placeholder","Email",3,"readonly","ngModel","ngModelChange"],["matInput","","type","number","name","phone","placeholder","Tel\xe9fono",3,"readonly","ngModel","ngModelChange"],["mat-raised-button","","color","primary",3,"click"],["label","Datos de sistema"],["matInput","","name","userName","type","text","placeholder","Nombre de usuario",3,"readonly","ngModel","ngModelChange"],[3,"checked","color","disabled","change",4,"ngIf"],["name","receiveMail",3,"ngModel","color","disabled","ngModelChange"],["name","sectorRef",3,"ngModel","color","disabled","ngModelChange"],["name","infoView",3,"ngModel","color","disabled","ngModelChange"],["label","Contrase\xf1a"],["matInput","","type","password","name","contrase\xf1a_anterior","placeholder","Contrase\xf1a actual",3,"readonly","ngModel","ngModelChange"],["class","full-width",4,"ngIf"],["label","Respuestas autom\xe1ticas",4,"ngIf"],["fxFlex","100","fxFlex.gt-md","300px","fxFlex.gt-sm","50"],[1,"profile-sidebar","mb-1","pb-0"],["class","propic text-center",4,"ngIf"],["id","attachment","type","file","accept","image/*",2,"display","none",3,"change"],[1,"profile-title","text-center","mb-1"],[1,"main-title"],[1,"subtitle","mb-05"],[4,"ngIf"],["appearance","fill","class","full-width",4,"ngIf"],[1,"default"],[1,"pt-0"],[1,"mr-1"],[1,"propic","text-center"],["src","assets/images/system/user-placeholder.png"],["mat-mini-fab","","color","accent","style","position: relative; left: -50px;top: 50px;",3,"click",4,"ngIf"],["mat-mini-fab","","color","accent",2,"position","relative","left","-50px","top","50px",3,"click"],[3,"src"],["appearance","fill",1,"full-width"],[3,"value","click",4,"ngFor","ngForOf"],[3,"value","click"],[3,"checked","color","disabled","change"],["matInput","","type","password","name","contrase\xf1a_nueva","placeholder","Nueva contrase\xf1a",3,"readonly","ngModel","ngModelChange"],["matInput","","type","password","name","contrase\xf1a_confirmar","placeholder","Confirmar contrase\xf1a nueva",3,"readonly","ngModel","ngModelChange"],["label","Respuestas autom\xe1ticas"],["matInput","","type","text","name","hashtag","placeholder","Nombre",3,"ngModel","ngModelChange"],["matInput","","type","text","name","resp","placeholder","Respuesta",3,"ngModel","ngModelChange"],[1,"material","bg-white",3,"columnMode","headerHeight","footerHeight","rowHeight","limit","rows","columns","activate"]],template:function(e,t){1&e&&(I.bc(0,"div",0),I.Tc(1,Q,26,10,"div",1),I.bc(2,"div",2),I.bc(3,"mat-card",3),I.bc(4,"mat-tab-group"),I.bc(5,"mat-tab",4),I.bc(6,"mat-card-content",5),I.bc(7,"form"),I.bc(8,"mat-form-field",6),I.bc(9,"input",7),I.jc("ngModelChange",(function(e){return t.user.name=e})),I.ac(),I.ac(),I.bc(10,"mat-form-field",6),I.bc(11,"input",8),I.jc("ngModelChange",(function(e){return t.user.surname=e})),I.ac(),I.ac(),I.bc(12,"mat-form-field",6),I.bc(13,"input",9),I.jc("ngModelChange",(function(e){return t.user.dni=e})),I.ac(),I.ac(),I.bc(14,"mat-form-field",6),I.bc(15,"input",10),I.jc("ngModelChange",(function(e){return t.user.num=e})),I.ac(),I.ac(),I.bc(16,"mat-form-field",6),I.bc(17,"input",11),I.jc("ngModelChange",(function(e){return t.user.email=e})),I.ac(),I.ac(),I.bc(18,"mat-form-field",6),I.bc(19,"input",12),I.jc("ngModelChange",(function(e){return t.user.phone=e})),I.ac(),I.ac(),I.ac(),I.bc(20,"button",13),I.jc("click",(function(e){return t.editUser()})),I.Vc(21,"Guardar"),I.ac(),I.ac(),I.ac(),I.bc(22,"mat-tab",14),I.bc(23,"mat-card-content",5),I.bc(24,"form"),I.bc(25,"mat-form-field",6),I.bc(26,"input",15),I.jc("ngModelChange",(function(e){return t.user.userName=e})),I.ac(),I.ac(),I.Tc(27,J,2,3,"mat-checkbox",16),I.Wb(28,"br"),I.bc(29,"mat-checkbox",17),I.jc("ngModelChange",(function(e){return t.user.receiveMail=e})),I.Vc(30,"Recibir notificaciones al correo electr\xf3nico "),I.ac(),I.Wb(31,"br"),I.bc(32,"mat-checkbox",18),I.jc("ngModelChange",(function(e){return t.user.sectorRef=e})),I.Vc(33,"Referente "),I.ac(),I.Wb(34,"br"),I.bc(35,"mat-checkbox",19),I.jc("ngModelChange",(function(e){return t.user.infoView=e})),I.Vc(36,"Visualizar mensajes de informaci\xf3n de tickets "),I.ac(),I.ac(),I.bc(37,"button",13),I.jc("click",(function(e){return t.editUser()})),I.Vc(38,"Guardar"),I.ac(),I.ac(),I.ac(),I.bc(39,"mat-tab",20),I.bc(40,"mat-card-content",5),I.bc(41,"form"),I.bc(42,"mat-form-field",6),I.bc(43,"input",21),I.jc("ngModelChange",(function(e){return t.user.password=e})),I.ac(),I.ac(),I.Tc(44,K,2,2,"mat-form-field",22),I.Tc(45,Z,2,2,"mat-form-field",22),I.ac(),I.bc(46,"button",13),I.jc("click",(function(e){return t.editUser()})),I.Vc(47,"Guardar"),I.ac(),I.ac(),I.ac(),I.Tc(48,ee,10,9,"mat-tab",23),I.ac(),I.ac(),I.ac(),I.ac()),2&e&&(I.Gb(1),I.uc("ngIf",!t.isNew),I.Gb(1),I.vc("fxFlex.gt-sm",1==t.isNew?100:50),I.Gb(7),I.uc("readonly",!t.isAdmin&&!t.isUser)("ngModel",t.user.name),I.Gb(2),I.uc("readonly",!t.isAdmin&&!t.isUser)("ngModel",t.user.surname),I.Gb(2),I.uc("readonly",!t.isAdmin&&!t.isUser)("ngModel",t.user.dni),I.Gb(2),I.uc("readonly",!t.isAdmin&&!t.isUser)("ngModel",t.user.num),I.Gb(2),I.uc("readonly",!t.isAdmin&&!t.isUser)("ngModel",t.user.email),I.Gb(2),I.uc("readonly",!t.isAdmin&&!t.isUser)("ngModel",t.user.phone),I.Gb(7),I.uc("readonly","ROLE_ADMIN"!=t.identity.role)("ngModel",t.user.userName),I.Gb(1),I.uc("ngIf",!t.isNew),I.Gb(2),I.uc("ngModel",t.user.receiveMail)("color","primary")("disabled",!t.isAdmin&&!t.isUser),I.Gb(3),I.uc("ngModel",t.user.sectorRef)("color","primary")("disabled",!t.isAdmin),I.Gb(3),I.uc("ngModel",t.user.infoView)("color","primary")("disabled",!t.isAdmin&&!t.isUser),I.Gb(8),I.uc("readonly",!t.isUser)("ngModel",t.user.password),I.Gb(1),I.uc("ngIf",!t.isNew),I.Gb(1),I.uc("ngIf",!t.isNew),I.Gb(3),I.uc("ngIf",t.isUser&&"ROLE_REQUESTER"!=t.identity.role))},directives:[U.d,c.m,U.b,m.a,f.b,f.a,m.b,y.x,y.o,y.p,g.b,s.b,y.c,y.n,y.q,y.s,l.b,i.a,m.e,b.a,b.c,u.a,g.e,v.a,c.l,E.p,o.d],encapsulation:2}),te);function ce(e,t){if(1&e){var n=I.cc();I.bc(0,"div",5),I.bc(1,"button",6),I.jc("click",(function(e){return I.Mc(n),I.nc().toNew()})),I.Vc(2,"Nuevo"),I.ac(),I.ac()}}var ae,ie=((ae=function(){function e(t,n,c,a){_classCallCheck(this,e),this._userService=t,this._route=n,this._router=c,this.snackBar=a,this.rows=[],this.columns=[],this.temp=[],this.canCreate=!1,this.token=t.getToken(),this.identity=t.getIdentity()}return _createClass(e,[{key:"ngOnInit",value:function(){this.getColumns(),this.getUsers(),"ROLE_ADMIN"==this.identity.role&&(this.canCreate=!0)}},{key:"getUsers",value:function(){var e=this;this._userService.getListAgents(this.token,this.identity.company._id).subscribe((function(t){t.users&&(e.rows=t.users,e.temp=t.users)}),(function(t){e.openSnackBar(t.message,"Cerrar")}))}},{key:"setQuery",value:function(){this.query={}}},{key:"openSnackBar",value:function(e,t){this.snackBar.open(e,t,{duration:1e4})}},{key:"getColumns",value:function(){this.columns=[{prop:"name",name:"Nombre",flexGrow:1},{prop:"surname",name:"Apellido",flexGrow:1},{prop:"email",name:"Email",flexGrow:1},{prop:"phone",name:"Interno",flexGrow:1},{prop:"userName",name:"Usuario",flexGrow:1}]}},{key:"changeDate",value:function(e){return C(e,"YYYY-MM-DD HH:mm").format("DD-MM-YYYY HH:mm")}},{key:"updateFilter",value:function(e){var t=e.target.value.toLowerCase(),n=Object.keys(this.temp[0]);if(n.splice(n.length-1),n.length){var c=this.temp.filter((function(e){for(var c=0;c<=n.length;c++){var a=n[c];if(e[a]&&e[a].toString().toLowerCase().indexOf(t)>-1)return!0}}));this.rows=c}}},{key:"toNew",value:function(){this._router.navigate(["/user/new/agent"])}},{key:"toProfile",value:function(e){"click"==e.type&&this._router.navigate(["/user/profile/",e.row._id])}}]),e}()).\u0275fac=function(e){return new(e||ae)(I.Vb(x.a),I.Vb(a.a),I.Vb(a.g),I.Vb(_.a))},ae.\u0275cmp=I.Pb({type:ae,selectors:[["app-agent-list"]],features:[I.Fb([x.a])],decls:5,vars:8,consts:[[1,"margin-333",2,"width","100%"],["matInput","","placeholder","Filtrar por todas las columnas","value","",3,"keyup"],["class","profile-actions mb-1","style","margin-left: 5px;",4,"ngIf"],[1,"mat-box-shadow","margin-333"],[1,"material","bg-white",3,"columnMode","headerHeight","footerHeight","rowHeight","limit","rows","columns","activate"],[1,"profile-actions","mb-1",2,"margin-left","5px"],["mat-raised-button","","color","primary",3,"click"]],template:function(e,t){1&e&&(I.bc(0,"mat-form-field",0),I.bc(1,"input",1),I.jc("keyup",(function(e){return t.updateFilter(e)})),I.ac(),I.ac(),I.Tc(2,ce,3,0,"div",2),I.bc(3,"div",3),I.bc(4,"ngx-datatable",4),I.jc("activate",(function(e){return t.toProfile(e)})),I.ac(),I.ac()),2&e&&(I.Gb(2),I.uc("ngIf",t.canCreate),I.Gb(2),I.uc("columnMode","flex")("headerHeight",40)("footerHeight",50)("rowHeight",50)("limit",7)("rows",t.rows)("columns",t.columns))},directives:[g.b,s.b,c.m,o.d,l.b],styles:[""]}),ae),re=n("3uMe");function se(e,t){if(1&e){var n=I.cc();I.bc(0,"div",5),I.bc(1,"button",6),I.jc("click",(function(e){return I.Mc(n),I.nc().toNew()})),I.Vc(2,"Nuevo"),I.ac(),I.ac()}}var oe=function e(t,n,c,a,i,r){_classCallCheck(this,e),this._id=t,this.name=n,this.users=c,this.image=a,this.createDate=i,this.company=r};function ue(e,t){if(1&e){var n=I.cc();I.bc(0,"button",24),I.jc("click",(function(e){return I.Mc(n),I.nc(3).openAttachment()})),I.bc(1,"mat-icon"),I.Vc(2,"edit"),I.ac(),I.ac()}}function le(e,t){if(1&e&&(I.bc(0,"div",21),I.Wb(1,"img",22),I.Tc(2,ue,3,0,"button",23),I.ac()),2&e){var n=I.nc(2);I.Gb(2),I.uc("ngIf",n.isAdmin)}}function me(e,t){if(1&e){var n=I.cc();I.bc(0,"button",24),I.jc("click",(function(e){return I.Mc(n),I.nc(3).openAttachment()})),I.bc(1,"mat-icon"),I.Vc(2,"edit"),I.ac(),I.ac()}}function de(e,t){if(1&e&&(I.bc(0,"div",21),I.Wb(1,"img",25),I.Tc(2,me,3,0,"button",23),I.ac()),2&e){var n=I.nc(2);I.Gb(1),I.vc("src",n.url+"team/image/"+n.team.image,I.Oc),I.Gb(1),I.uc("ngIf",n.isAdmin)}}function fe(e,t){if(1&e&&I.Wb(0,"img",29),2&e){var n=I.nc().$implicit,c=I.nc(2);I.vc("src",c.url+"user/image/"+n.image,I.Oc)}}function be(e,t){1&e&&I.Wb(0,"img",30)}function pe(e,t){if(1&e){var n=I.cc();I.bc(0,"tbody"),I.bc(1,"tr",26),I.jc("click",(function(e){I.Mc(n);var c=t.$implicit;return I.nc(2).selectOut(c._id)})),I.bc(2,"td"),I.Tc(3,fe,1,1,"img",27),I.Tc(4,be,1,0,"img",28),I.Vc(5),I.ac(),I.ac(),I.ac()}if(2&e){var c=t.$implicit,a=I.nc(2);I.Gb(1),I.Ib(a.selectedOut==c._id?"active":""),I.Gb(2),I.uc("ngIf","null"!=c.image),I.Gb(1),I.uc("ngIf","null"==c.image),I.Gb(1),I.Yc(" ",c.surname," ",c.name," ")}}function he(e,t){if(1&e){var n=I.cc();I.bc(0,"a",31),I.jc("click",(function(e){return I.Mc(n),I.nc(2).include()})),I.Vc(1,">>"),I.ac()}}function ge(e,t){if(1&e){var n=I.cc();I.bc(0,"a",31),I.jc("click",(function(e){return I.Mc(n),I.nc(2).exclude()})),I.Vc(1,"<<"),I.ac()}}function ve(e,t){if(1&e&&I.Wb(0,"img",29),2&e){var n=I.nc().$implicit,c=I.nc(2);I.vc("src",c.url+"user/image/"+n.image,I.Oc)}}function ye(e,t){1&e&&I.Wb(0,"img",30)}function ke(e,t){if(1&e){var n=I.cc();I.bc(0,"tbody"),I.bc(1,"tr",26),I.jc("click",(function(e){I.Mc(n);var c=t.$implicit;return I.nc(2).selectIn(c._id)})),I.bc(2,"td"),I.Tc(3,ve,1,1,"img",27),I.Tc(4,ye,1,0,"img",28),I.Vc(5),I.ac(),I.ac(),I.ac()}if(2&e){var c=t.$implicit,a=I.nc(2);I.Gb(1),I.Ib(a.selectedIn==c._id?"active":""),I.Gb(2),I.uc("ngIf","null"!=c.image),I.Gb(1),I.uc("ngIf","null"==c.image),I.Gb(1),I.Yc(" ",c.surname," ",c.name," ")}}function Me(e,t){if(1&e){var n=I.cc();I.bc(0,"div",1),I.bc(1,"div",2),I.bc(2,"mat-card",3),I.Tc(3,le,3,1,"div",4),I.Tc(4,de,3,2,"div",4),I.bc(5,"input",5),I.jc("change",(function(e){return I.Mc(n),I.nc().fileChangeEvent(e)})),I.ac(),I.bc(6,"div",6),I.bc(7,"div",7),I.Vc(8),I.ac(),I.bc(9,"div",8),I.bc(10,"span"),I.Vc(11),I.ac(),I.ac(),I.bc(12,"div",8),I.bc(13,"span"),I.Vc(14),I.ac(),I.ac(),I.ac(),I.ac(),I.ac(),I.bc(15,"div",9),I.bc(16,"mat-card",10),I.bc(17,"mat-card-content",11),I.bc(18,"div",12),I.bc(19,"div",13),I.bc(20,"div",14),I.bc(21,"table",15),I.bc(22,"thead"),I.bc(23,"tr"),I.bc(24,"th"),I.Vc(25,"Agentes fuera del equipo"),I.ac(),I.ac(),I.ac(),I.Tc(26,pe,6,6,"tbody",16),I.ac(),I.ac(),I.ac(),I.bc(27,"div",17),I.bc(28,"div",18),I.Tc(29,he,2,0,"a",19),I.Tc(30,ge,2,0,"a",19),I.ac(),I.ac(),I.bc(31,"div",13),I.bc(32,"table",20),I.bc(33,"thead"),I.bc(34,"tr"),I.bc(35,"th"),I.Vc(36,"Agentes dentro del equipo"),I.ac(),I.ac(),I.ac(),I.Tc(37,ke,6,6,"tbody",16),I.ac(),I.ac(),I.ac(),I.ac(),I.ac(),I.ac(),I.ac()}if(2&e){var c=I.nc();I.Gb(3),I.uc("ngIf","null"==c.team.image),I.Gb(1),I.uc("ngIf","null"!=c.team.image),I.Gb(4),I.Wc(c.team.name),I.Gb(3),I.Wc(c.team.company.name),I.Gb(3),I.Xc("Alta: ",c.team.createDate,""),I.Gb(12),I.uc("ngForOf",c.usersOutTeam),I.Gb(3),I.uc("ngIf","ROLE_ADMIN"==c.identity.role),I.Gb(1),I.uc("ngIf","ROLE_ADMIN"==c.identity.role),I.Gb(7),I.uc("ngForOf",c.usersInTeam)}}function we(e,t){if(1&e){var n=I.cc();I.bc(0,"div",1),I.bc(1,"div",9),I.bc(2,"mat-card",10),I.bc(3,"mat-card-content",11),I.bc(4,"form"),I.bc(5,"mat-form-field",32),I.bc(6,"input",33),I.jc("ngModelChange",(function(e){return I.Mc(n),I.nc().team.name=e})),I.ac(),I.ac(),I.ac(),I.bc(7,"button",34),I.jc("click",(function(e){return I.Mc(n),I.nc().onSubmit()})),I.Vc(8,"Guardar"),I.ac(),I.ac(),I.ac(),I.ac(),I.ac()}if(2&e){var c=I.nc();I.Gb(6),I.uc("ngModel",c.team.name)}}function Ce(e,t){if(1&e){var n=I.cc();I.bc(0,"button",39),I.jc("click",(function(e){return I.Mc(n),I.nc(3).openAttachment()})),I.bc(1,"mat-icon"),I.Vc(2,"edit"),I.ac(),I.ac()}}function xe(e,t){if(1&e&&(I.bc(0,"div",36),I.Wb(1,"img",37),I.Tc(2,Ce,3,0,"button",38),I.ac()),2&e){var n=I.nc(2);I.Gb(2),I.uc("ngIf",n.isAdmin||n.isUser)}}function Ie(e,t){if(1&e){var n=I.cc();I.bc(0,"button",39),I.jc("click",(function(e){return I.Mc(n),I.nc(3).openAttachment()})),I.bc(1,"mat-icon"),I.Vc(2,"edit"),I.ac(),I.ac()}}function _e(e,t){if(1&e&&(I.bc(0,"div",36),I.Wb(1,"img",40),I.Tc(2,Ie,3,0,"button",38),I.ac()),2&e){var n=I.nc(2);I.Gb(1),I.vc("src",n.url+"user/image/"+n.user.image,I.Oc),I.Gb(1),I.uc("ngIf",n.isAdmin||n.isUser)}}function Ge(e,t){if(1&e&&(I.bc(0,"span"),I.Vc(1),I.ac()),2&e){var n=I.nc(2);I.Gb(1),I.Wc(n.user.sector.name)}}function Oe(e,t){if(1&e){var n=I.cc();I.bc(0,"mat-option",43),I.jc("click",(function(e){I.Mc(n);var c=t.$implicit;return I.nc(3).setSector(c._id)})),I.Vc(1),I.ac()}if(2&e){var c=t.$implicit;I.uc("value",c),I.Gb(1),I.Xc("",c.name," ")}}function Te(e,t){if(1&e&&(I.bc(0,"mat-form-field",41),I.bc(1,"mat-label"),I.Vc(2,"Cambiar sector"),I.ac(),I.bc(3,"mat-select"),I.Tc(4,Oe,2,2,"mat-option",42),I.ac(),I.ac()),2&e){var n=I.nc(2);I.Gb(4),I.uc("ngForOf",n.sectors)}}function Ve(e,t){if(1&e&&(I.bc(0,"span"),I.Vc(1),I.ac()),2&e){var n=I.nc(2);I.Gb(1),I.Xc(" ",n.user.email," ")}}function Ae(e,t){1&e&&(I.bc(0,"span"),I.Vc(1," - "),I.ac())}function Se(e,t){if(1&e&&(I.bc(0,"span"),I.Vc(1),I.ac()),2&e){var n=I.nc(2);I.Gb(1),I.Xc(" ",n.user.phone," ")}}function je(e,t){1&e&&(I.bc(0,"span"),I.Vc(1," - "),I.ac())}function Re(e,t){if(1&e){var n=I.cc();I.bc(0,"div",24),I.bc(1,"mat-card",25),I.Tc(2,xe,3,1,"div",26),I.Tc(3,_e,3,2,"div",26),I.bc(4,"input",27),I.jc("change",(function(e){return I.Mc(n),I.nc().fileChangeEvent(e)})),I.ac(),I.bc(5,"div",28),I.bc(6,"div",29),I.Vc(7),I.ac(),I.bc(8,"div",30),I.Tc(9,Ge,2,1,"span",31),I.Tc(10,Te,5,1,"mat-form-field",32),I.ac(),I.ac(),I.ac(),I.bc(11,"mat-card",33),I.bc(12,"mat-card-title"),I.Vc(13,"Informaci\xf3n de contacto"),I.ac(),I.bc(14,"mat-card-content",34),I.bc(15,"mat-list"),I.bc(16,"mat-list-item"),I.bc(17,"mat-icon",35),I.Vc(18,"email"),I.ac(),I.Tc(19,Ve,2,1,"span",31),I.Tc(20,Ae,2,0,"span",31),I.ac(),I.bc(21,"mat-list-item"),I.bc(22,"mat-icon",35),I.Vc(23,"phone"),I.ac(),I.Tc(24,Se,2,1,"span",31),I.Tc(25,je,2,0,"span",31),I.ac(),I.ac(),I.ac(),I.ac(),I.ac()}if(2&e){var c=I.nc();I.Gb(2),I.uc("ngIf","null"==c.user.image),I.Gb(1),I.uc("ngIf","null"!=c.user.image),I.Gb(4),I.Yc("",c.user.surname,", ",c.user.name,""),I.Gb(2),I.uc("ngIf",c.user.sector),I.Gb(1),I.uc("ngIf",c.isAdmin),I.Gb(9),I.uc("ngIf",""!=c.user.email),I.Gb(1),I.uc("ngIf",""==c.user.email),I.Gb(4),I.uc("ngIf",null!=c.user.phone),I.Gb(1),I.uc("ngIf",!c.user.phone||null==c.user.phone)}}function Ne(e,t){if(1&e){var n=I.cc();I.bc(0,"mat-checkbox",44),I.jc("change",(function(e){return I.Mc(n),I.nc().changeAdm(e.checked)})),I.Vc(1,"Administrador "),I.ac()}if(2&e){var c=I.nc();I.uc("checked","ROLE_ADMIN"==c.user.role)("color","primary")("disabled",!c.isAdmin)}}function Fe(e,t){if(1&e){var n=I.cc();I.bc(0,"mat-form-field",6),I.bc(1,"input",45),I.jc("ngModelChange",(function(e){return I.Mc(n),I.nc().password.new=e})),I.ac(),I.ac()}if(2&e){var c=I.nc();I.Gb(1),I.uc("readonly",!c.isAdmin&&!c.isUser)("ngModel",c.password.new)}}function Ue(e,t){if(1&e){var n=I.cc();I.bc(0,"mat-form-field",6),I.bc(1,"input",46),I.jc("ngModelChange",(function(e){return I.Mc(n),I.nc().password.confirm=e})),I.ac(),I.ac()}if(2&e){var c=I.nc();I.Gb(1),I.uc("readonly",!c.isAdmin&&!c.isUser)("ngModel",c.password.confirm)}}function Ee(e,t){if(1&e){var n=I.cc();I.bc(0,"mat-tab",47),I.bc(1,"mat-card-content",5),I.bc(2,"form"),I.bc(3,"mat-form-field",6),I.bc(4,"input",48),I.jc("ngModelChange",(function(e){return I.Mc(n),I.nc().newResponse.hashtag=e})),I.ac(),I.ac(),I.bc(5,"mat-form-field",6),I.bc(6,"input",49),I.jc("ngModelChange",(function(e){return I.Mc(n),I.nc().newResponse.resp=e})),I.ac(),I.ac(),I.bc(7,"button",13),I.jc("click",(function(e){return I.Mc(n),I.nc().saveResponse()})),I.Vc(8,"A\xf1adir"),I.ac(),I.ac(),I.bc(9,"ngx-datatable",50),I.jc("activate",(function(e){return I.Mc(n),I.nc().deleteResponse(e)})),I.ac(),I.ac(),I.ac()}if(2&e){var c=I.nc();I.Gb(4),I.uc("ngModel",c.newResponse.hashtag),I.Gb(2),I.uc("ngModel",c.newResponse.resp),I.Gb(3),I.uc("columnMode","flex")("headerHeight",40)("footerHeight",50)("rowHeight",50)("limit",5)("rows",c.responses)("columns",c.responseColumns)}}function Le(e,t){if(1&e){var n=I.cc();I.bc(0,"button",24),I.jc("click",(function(e){return I.Mc(n),I.nc(3).openAttachment()})),I.bc(1,"mat-icon"),I.Vc(2,"edit"),I.ac(),I.ac()}}function Be(e,t){if(1&e&&(I.bc(0,"div",21),I.Wb(1,"img",22),I.Tc(2,Le,3,0,"button",23),I.ac()),2&e){var n=I.nc(2);I.Gb(2),I.uc("ngIf",n.isAdmin)}}function De(e,t){if(1&e){var n=I.cc();I.bc(0,"button",24),I.jc("click",(function(e){return I.Mc(n),I.nc(3).openAttachment()})),I.bc(1,"mat-icon"),I.Vc(2,"edit"),I.ac(),I.ac()}}function He(e,t){if(1&e&&(I.bc(0,"div",21),I.Wb(1,"img",25),I.Tc(2,De,3,0,"button",23),I.ac()),2&e){var n=I.nc(2);I.Gb(1),I.vc("src",n.url+"team/image/"+n.team.image,I.Oc),I.Gb(1),I.uc("ngIf",n.isAdmin)}}function Pe(e,t){if(1&e&&I.Wb(0,"img",29),2&e){var n=I.nc().$implicit,c=I.nc(2);I.vc("src",c.url+"user/image/"+n.image,I.Oc)}}function Ye(e,t){1&e&&I.Wb(0,"img",30)}function qe(e,t){if(1&e){var n=I.cc();I.bc(0,"tbody"),I.bc(1,"tr",26),I.jc("click",(function(e){I.Mc(n);var c=t.$implicit;return I.nc(2).selectOut(c._id)})),I.bc(2,"td"),I.Tc(3,Pe,1,1,"img",27),I.Tc(4,Ye,1,0,"img",28),I.Vc(5),I.ac(),I.ac(),I.ac()}if(2&e){var c=t.$implicit,a=I.nc(2);I.Gb(1),I.Ib(a.selectedOut==c._id?"active":""),I.Gb(2),I.uc("ngIf","null"!=c.image),I.Gb(1),I.uc("ngIf","null"==c.image),I.Gb(1),I.Yc(" ",c.surname," ",c.name," ")}}function We(e,t){if(1&e){var n=I.cc();I.bc(0,"a",31),I.jc("click",(function(e){return I.Mc(n),I.nc(2).include()})),I.Vc(1,">>"),I.ac()}}function ze(e,t){if(1&e){var n=I.cc();I.bc(0,"a",31),I.jc("click",(function(e){return I.Mc(n),I.nc(2).exclude()})),I.Vc(1,"<<"),I.ac()}}function Xe(e,t){if(1&e&&I.Wb(0,"img",29),2&e){var n=I.nc().$implicit,c=I.nc(2);I.vc("src",c.url+"user/image/"+n.image,I.Oc)}}function $e(e,t){1&e&&I.Wb(0,"img",30)}function Qe(e,t){if(1&e){var n=I.cc();I.bc(0,"tbody"),I.bc(1,"tr",26),I.jc("click",(function(e){I.Mc(n);var c=t.$implicit;return I.nc(2).selectIn(c._id)})),I.bc(2,"td"),I.Tc(3,Xe,1,1,"img",27),I.Tc(4,$e,1,0,"img",28),I.Vc(5),I.ac(),I.ac(),I.ac()}if(2&e){var c=t.$implicit,a=I.nc(2);I.Gb(1),I.Ib(a.selectedIn==c._id?"active":""),I.Gb(2),I.uc("ngIf","null"!=c.image),I.Gb(1),I.uc("ngIf","null"==c.image),I.Gb(1),I.Yc(" ",c.surname," ",c.name," ")}}function Je(e,t){if(1&e){var n=I.cc();I.bc(0,"div",1),I.bc(1,"div",2),I.bc(2,"mat-card",3),I.Tc(3,Be,3,1,"div",4),I.Tc(4,He,3,2,"div",4),I.bc(5,"input",5),I.jc("change",(function(e){return I.Mc(n),I.nc().fileChangeEvent(e)})),I.ac(),I.bc(6,"div",6),I.bc(7,"div",7),I.Vc(8),I.ac(),I.bc(9,"div",8),I.bc(10,"span"),I.Vc(11),I.ac(),I.ac(),I.bc(12,"div",8),I.bc(13,"span"),I.Vc(14),I.ac(),I.ac(),I.ac(),I.ac(),I.ac(),I.bc(15,"div",9),I.bc(16,"mat-card",10),I.bc(17,"mat-card-content",11),I.bc(18,"div",12),I.bc(19,"div",13),I.bc(20,"div",14),I.bc(21,"table",15),I.bc(22,"thead"),I.bc(23,"tr"),I.bc(24,"th"),I.Vc(25,"Agentes fuera del equipo"),I.ac(),I.ac(),I.ac(),I.Tc(26,qe,6,6,"tbody",16),I.ac(),I.ac(),I.ac(),I.bc(27,"div",17),I.bc(28,"div",18),I.Tc(29,We,2,0,"a",19),I.Tc(30,ze,2,0,"a",19),I.ac(),I.ac(),I.bc(31,"div",13),I.bc(32,"table",20),I.bc(33,"thead"),I.bc(34,"tr"),I.bc(35,"th"),I.Vc(36,"Agentes dentro del equipo"),I.ac(),I.ac(),I.ac(),I.Tc(37,Qe,6,6,"tbody",16),I.ac(),I.ac(),I.ac(),I.ac(),I.ac(),I.ac(),I.ac()}if(2&e){var c=I.nc();I.Gb(3),I.uc("ngIf","null"==c.team.image),I.Gb(1),I.uc("ngIf","null"!=c.team.image),I.Gb(4),I.Wc(c.team.name),I.Gb(3),I.Wc(c.team.company.name),I.Gb(3),I.Xc("Alta: ",c.team.createDate,""),I.Gb(12),I.uc("ngForOf",c.usersOutTeam),I.Gb(3),I.uc("ngIf","ROLE_ADMIN"==c.identity.role),I.Gb(1),I.uc("ngIf","ROLE_ADMIN"==c.identity.role),I.Gb(7),I.uc("ngForOf",c.usersInTeam)}}function Ke(e,t){if(1&e){var n=I.cc();I.bc(0,"div",1),I.bc(1,"div",9),I.bc(2,"mat-card",10),I.bc(3,"mat-card-content",11),I.bc(4,"form"),I.bc(5,"mat-form-field",32),I.bc(6,"input",33),I.jc("ngModelChange",(function(e){return I.Mc(n),I.nc().team.name=e})),I.ac(),I.ac(),I.ac(),I.bc(7,"button",34),I.jc("click",(function(e){return I.Mc(n),I.nc().onSubmit()})),I.Vc(8,"Guardar"),I.ac(),I.ac(),I.ac(),I.ac(),I.ac()}if(2&e){var c=I.nc();I.Gb(6),I.uc("ngModel",c.team.name)}}var Ze,et,tt,nt,ct=[{path:"",children:[{path:"list/requester",component:T,data:{title:"Lista de solicitantes",breadcrumb:"LISTA DE SOLICITANTES"}},{path:"list/agent",component:ie,data:{title:"Lista de agentes",breadcrumb:"LISTA DE AGENTES"}},{path:"list/team",component:(nt=function(){function e(t,n,c,a,i){_classCallCheck(this,e),this._userService=t,this._teamService=n,this._route=c,this._router=a,this.snackBar=i,this.rows=[],this.columns=[],this.temp=[],this.canCreate=!1,this.token=t.getToken(),this.identity=t.getIdentity()}return _createClass(e,[{key:"ngOnInit",value:function(){this.getColumns(),this.getTeams(),"ROLE_ADMIN"==this.identity.role&&(this.canCreate=!0)}},{key:"getTeams",value:function(){var e=this;this._teamService.getList(this.token,this.identity.company._id).subscribe((function(t){t.teams&&(e.rows=t.teams,e.temp=t.teams)}),(function(t){e.openSnackBar(t.message,"Cerrar")}))}},{key:"setQuery",value:function(){this.query={}}},{key:"openSnackBar",value:function(e,t){this.snackBar.open(e,t,{duration:1e4})}},{key:"getColumns",value:function(){this.columns=[{prop:"name",name:"Nombre",flexGrow:1}]}},{key:"changeDate",value:function(e){return C(e,"YYYY-MM-DD HH:mm").format("DD-MM-YYYY HH:mm")}},{key:"updateFilter",value:function(e){var t=e.target.value.toLowerCase(),n=Object.keys(this.temp[0]);if(n.splice(n.length-1),n.length){var c=this.temp.filter((function(e){for(var c=0;c<=n.length;c++){var a=n[c];if(e[a]&&e[a].toString().toLowerCase().indexOf(t)>-1)return!0}}));this.rows=c}}},{key:"toNew",value:function(){this._router.navigate(["/user/team/new"])}},{key:"toProfile",value:function(e){"click"==e.type&&this._router.navigate(["/user/team/profile/",e.row._id])}}]),e}(),nt.\u0275fac=function(e){return new(e||nt)(I.Vb(x.a),I.Vb(re.a),I.Vb(a.a),I.Vb(a.g),I.Vb(_.a))},nt.\u0275cmp=I.Pb({type:nt,selectors:[["app-team-list"]],features:[I.Fb([x.a,re.a])],decls:5,vars:8,consts:[[1,"margin-333",2,"width","100%"],["matInput","","placeholder","Filtrar por todas las columnas","value","",3,"keyup"],["class","profile-actions mb-1","style","margin-left: 5px;",4,"ngIf"],[1,"mat-box-shadow","margin-333"],[1,"material","bg-white",3,"columnMode","headerHeight","footerHeight","rowHeight","limit","rows","columns","activate"],[1,"profile-actions","mb-1",2,"margin-left","5px"],["mat-raised-button","","color","primary",3,"click"]],template:function(e,t){1&e&&(I.bc(0,"mat-form-field",0),I.bc(1,"input",1),I.jc("keyup",(function(e){return t.updateFilter(e)})),I.ac(),I.ac(),I.Tc(2,se,3,0,"div",2),I.bc(3,"div",3),I.bc(4,"ngx-datatable",4),I.jc("activate",(function(e){return t.toProfile(e)})),I.ac(),I.ac()),2&e&&(I.Gb(2),I.uc("ngIf",t.canCreate),I.Gb(2),I.uc("columnMode","flex")("headerHeight",40)("footerHeight",50)("rowHeight",50)("limit",7)("rows",t.rows)("columns",t.columns))},directives:[g.b,s.b,c.m,o.d,l.b],styles:[""]}),nt),data:{title:"Lista de equipos",breadcrumb:"LISTA DE EQUIPOS"}},{path:"team/profile/:id",component:(tt=function(){function e(t,n,c,a,i,r){_classCallCheck(this,e),this._userService=t,this._teamService=n,this._uploadService=c,this._route=a,this._router=i,this.snackBar=r,this.identity=this._userService.getIdentity(),this.token=this._userService.getToken(),this.url=S.a.url,this.team=new oe("","",[""],"null","",""),this.isDefault=!1,this.selectedOut="",this.selectedIn="",this.usersInTeam=[],this.usersOutTeam=[],this.isAdmin=!1,this.isNew=!1}return _createClass(e,[{key:"ngOnInit",value:function(){this.getTeam(),this.getAgents()}},{key:"getTeam",value:function(){var e=this;this._route.params.forEach((function(t){e._teamService.getOne(e.token,t.id).subscribe((function(t){t.team&&(e.team=t.team,e.team.company._id==e.identity.company._id&&"ROLE_ADMIN"==e.identity.role&&(e.isAdmin=!0))}),(function(t){e.openSnackBar(t.message,"Cerrar")}))}))}},{key:"getAgents",value:function(){var e=this;this._route.params.forEach((function(t){e._teamService.getAgentsList(e.token,t.id,e.identity.company._id).subscribe((function(t){!t.usersOut&&t.usersIn?e._router.navigate(["/"]):(e.usersInTeam=t.usersIn,e.usersOutTeam=t.usersOut)}),(function(t){e.openSnackBar(t.message,"Cerrar")}))}))}},{key:"onSubmit",value:function(){var e=this;this._route.params.forEach((function(t){e._teamService.edit(e.token,t.id,e.team).subscribe((function(t){e.getTeam(),e.openSnackBar("Datos actualizados","Cerrar")}),(function(t){e.openSnackBar(t.message,"Cerrar")}))}))}},{key:"selectOut",value:function(e){this.selectedOut=e}},{key:"selectIn",value:function(e){this.selectedIn=e}},{key:"include",value:function(){var e=this;this.selectedOut&&this._route.params.forEach((function(t){e._teamService.addUser(e.token,t.id,e.selectedOut).subscribe((function(t){t.team&&(e.selectedOut="",e.getAgents())}),(function(t){e.openSnackBar(t.message,"Cerrar")}))}))}},{key:"exclude",value:function(){var e=this;this.selectedIn&&this._route.params.forEach((function(t){e._teamService.removeUser(e.token,t.id,e.selectedIn).subscribe((function(t){t.team&&(e.selectedIn="",e.getAgents())}),(function(t){e.openSnackBar(t.message,"Cerrar")}))}))}},{key:"openSnackBar",value:function(e,t){this.snackBar.open(e,t,{duration:1e4})}},{key:"openAttachment",value:function(){document.getElementById("attachment").click()}},{key:"fileChangeEvent",value:function(e){var t=this;this.filesToUpload=e.target.files,this._uploadService.makeFileRequest(this.url+"team/image/"+this.team._id,[],this.filesToUpload,this.token,"image"),setTimeout((function(){t.getTeam(),t.openSnackBar("Foto de equipo actualizada","Cerrar")}),1e3)}}]),e}(),tt.\u0275fac=function(e){return new(e||tt)(I.Vb(x.a),I.Vb(re.a),I.Vb(j.a),I.Vb(a.a),I.Vb(a.g),I.Vb(_.a))},tt.\u0275cmp=I.Pb({type:tt,selectors:[["app-team-profile"]],features:[I.Fb([x.a,re.a,j.a])],decls:2,vars:2,consts:[["fxLayout","row wrap",4,"ngIf"],["fxLayout","row wrap"],["fxFlex","100","fxFlex.gt-md","300px","fxFlex.gt-sm","100"],[1,"profile-sidebar","mb-1","pb-0"],["class","propic text-center",4,"ngIf"],["id","attachment","type","file","accept","image/*",2,"display","none",3,"change"],[1,"profile-title","text-center","mb-1"],[1,"main-title"],[1,"subtitle","mb-05"],["fxFlex","100","fxFlex.gt-sm","100","fxFlex.gt-md","calc(100% - 300px)"],[1,"p-0"],[1,"mt-1"],[1,"form-row","agent-system"],[1,"col-xl-5","offset-xl-0"],["id","dataTable",1,"table-responsive","table"],["id","dataTable",1,"table","dataTable"],[4,"ngFor","ngForOf"],[1,"col-xl-2"],["role","group",1,"btn-group-vertical","d-block"],["class","btn btn-primary dark","role","button",3,"click",4,"ngIf"],["id","dataTable",1,"table","dataTable","my-0"],[1,"propic","text-center"],["src","assets/images/system/team-placeholder.png"],["mat-mini-fab","","color","accent","style","position: relative; left: -50px;top: 50px;",3,"click",4,"ngIf"],["mat-mini-fab","","color","accent",2,"position","relative","left","-50px","top","50px",3,"click"],[3,"src"],[3,"click"],["class","rounded-circle mr-2","width","30","height","30",3,"src",4,"ngIf"],["class","rounded-circle mr-2","width","30","height","30","src","assets/images/system/user-placeholder.png",4,"ngIf"],["width","30","height","30",1,"rounded-circle","mr-2",3,"src"],["width","30","height","30","src","assets/images/system/user-placeholder.png",1,"rounded-circle","mr-2"],["role","button",1,"btn","btn-primary","dark",3,"click"],[1,"full-width"],["matInput","","name","name","type","text","placeholder","Nombre",3,"ngModel","ngModelChange"],["mat-raised-button","","color","primary",3,"click"]],template:function(e,t){1&e&&(I.Tc(0,Me,38,9,"div",0),I.Tc(1,we,9,1,"div",0)),2&e&&(I.uc("ngIf",!t.isNew),I.Gb(1),I.uc("ngIf",t.isNew))},directives:[c.m,U.d,U.b,m.a,m.b,c.l,l.b,u.a,y.x,y.o,y.p,g.b,s.b,y.c,y.n,y.q],styles:[".img-profile[_ngcontent-%COMP%]{width:100%}.card-profile[_ngcontent-%COMP%]{margin-top:20px}.text-chat[_ngcontent-%COMP%]{overflow-x:auto}.acept[_ngcontent-%COMP%]{margin-right:15px}.active[_ngcontent-%COMP%]{background-color:#2d9df1;color:#fff}.newimg[_ngcontent-%COMP%]{display:none}.required[_ngcontent-%COMP%]{color:red;font-weight:700}"]}),tt),data:{title:"Perfil de equipo",breadcrumb:"PERFIL DE EQUIPO"}},{path:"profile/:id",component:ne,data:{title:"Perfil de usuario",breadcrumb:"PERFIL DE USUARIO"}},{path:"new/:type",component:(et=function(){function e(t,n,c,a,i,r){_classCallCheck(this,e),this._userService=t,this._sectorService=n,this._uploadService=c,this._route=a,this._router=i,this.snackBar=r,this.token=t.getToken(),this.identity=t.getIdentity(),this.url=S.a.url,this.user=new V.a("",null,"","",null,"","","",null,"",!1,"","","","",!0,"",!0,!0),this.isNew=!0,this.isUser=!0,this.isAdmin=!0}return _createClass(e,[{key:"ngOnInit",value:function(){this.getUser(),this.getSectors()}},{key:"getUser",value:function(){var e=this;this._route.params.forEach((function(t){e.user.role="requester"==t.type?"ROLE_REQUESTER":"ROLE_AGENT"}))}},{key:"editUser",value:function(){var e=this;""!=this.user.name&&""!=this.user.surname&&""!=this.user.userName&&""!=this.user.email&&""==this.user.password?(""==this.user.sign&&(this.user.sign=null),""==this.user.sector&&delete this.user.sector,this._userService.add(this.token,this.user).subscribe((function(t){t.user&&(e.openSnackBar("Usuario creado","Cerrar"),e._router.navigate(["/user/profile/",t.user._id]))}),(function(t){e.openSnackBar(t.message,"Cerrar")}))):this.openSnackBar("Faltan campos para completar","Cerrar")}},{key:"getSectors",value:function(){var e=this;this._sectorService.getList(this.token).subscribe((function(t){t.sectors&&(e.sectors=t.sectors)}),(function(t){e.openSnackBar(t.message,"Cerrar")}))}},{key:"setSector",value:function(e){this.user.sector=e}},{key:"openSnackBar",value:function(e,t){this.snackBar.open(e,t,{duration:1e4})}},{key:"changeAdm",value:function(e){this.user.role=1==e?"ROLE_ADMIN":"ROLE_AGENT"}}]),e}(),et.\u0275fac=function(e){return new(e||et)(I.Vb(x.a),I.Vb(A.a),I.Vb(j.a),I.Vb(a.a),I.Vb(a.g),I.Vb(_.a))},et.\u0275cmp=I.Pb({type:et,selectors:[["app-user-profile"]],features:[I.Fb([x.a,A.a,j.a])],decls:49,vars:31,consts:[["fxLayout","row wrap"],["fxFlex","100","fxFlex.gt-md","300px","fxFlex.gt-sm","50",4,"ngIf"],["fxFlex","100","fxFlex.gt-md","calc(100% - 300px)",3,"fxFlex.gt-sm"],[1,"p-0"],["label","Datos personales"],[1,"mt-1"],[1,"full-width"],["matInput","","name","name","type","text","placeholder","Nombre",3,"readonly","ngModel","ngModelChange"],["matInput","","name","surname","type","text","placeholder","Apellido",3,"readonly","ngModel","ngModelChange"],["matInput","","name","dni","type","number","placeholder","DNI",3,"readonly","ngModel","ngModelChange"],["matInput","","type","number","name","legajo","placeholder","Legajo",3,"readonly","ngModel","ngModelChange"],["matInput","","type","text","name","email","placeholder","Email",3,"readonly","ngModel","ngModelChange"],["matInput","","type","number","name","phone","placeholder","Tel\xe9fono",3,"readonly","ngModel","ngModelChange"],["mat-raised-button","","color","primary",3,"click"],["label","Datos de sistema"],["matInput","","name","userName","type","text","placeholder","Nombre de usuario",3,"readonly","ngModel","ngModelChange"],[3,"checked","color","disabled","change",4,"ngIf"],["name","receiveMail",3,"ngModel","color","disabled","ngModelChange"],["name","sectorRef",3,"ngModel","color","disabled","ngModelChange"],["name","infoView",3,"ngModel","color","disabled","ngModelChange"],["label","Contrase\xf1a"],["matInput","","type","password","name","contrase\xf1a_anterior","placeholder","Contrase\xf1a actual",3,"readonly","ngModel","ngModelChange"],["class","full-width",4,"ngIf"],["label","Respuestas autom\xe1ticas",4,"ngIf"],["fxFlex","100","fxFlex.gt-md","300px","fxFlex.gt-sm","50"],[1,"profile-sidebar","mb-1","pb-0"],["class","propic text-center",4,"ngIf"],["id","attachment","type","file","accept","image/*",2,"display","none",3,"change"],[1,"profile-title","text-center","mb-1"],[1,"main-title"],[1,"subtitle","mb-05"],[4,"ngIf"],["appearance","fill","class","full-width",4,"ngIf"],[1,"default"],[1,"pt-0"],[1,"mr-1"],[1,"propic","text-center"],["src","assets/images/system/user-placeholder.png"],["mat-mini-fab","","color","accent","style","position: relative; left: -50px;top: 50px;",3,"click",4,"ngIf"],["mat-mini-fab","","color","accent",2,"position","relative","left","-50px","top","50px",3,"click"],[3,"src"],["appearance","fill",1,"full-width"],[3,"value","click",4,"ngFor","ngForOf"],[3,"value","click"],[3,"checked","color","disabled","change"],["matInput","","type","password","name","contrase\xf1a_nueva","placeholder","Nueva contrase\xf1a",3,"readonly","ngModel","ngModelChange"],["matInput","","type","password","name","contrase\xf1a_confirmar","placeholder","Confirmar contrase\xf1a nueva",3,"readonly","ngModel","ngModelChange"],["label","Respuestas autom\xe1ticas"],["matInput","","type","text","name","hashtag","placeholder","Nombre",3,"ngModel","ngModelChange"],["matInput","","type","text","name","resp","placeholder","Respuesta",3,"ngModel","ngModelChange"],[1,"material","bg-white",3,"columnMode","headerHeight","footerHeight","rowHeight","limit","rows","columns","activate"]],template:function(e,t){1&e&&(I.bc(0,"div",0),I.Tc(1,Re,26,10,"div",1),I.bc(2,"div",2),I.bc(3,"mat-card",3),I.bc(4,"mat-tab-group"),I.bc(5,"mat-tab",4),I.bc(6,"mat-card-content",5),I.bc(7,"form"),I.bc(8,"mat-form-field",6),I.bc(9,"input",7),I.jc("ngModelChange",(function(e){return t.user.name=e})),I.ac(),I.ac(),I.bc(10,"mat-form-field",6),I.bc(11,"input",8),I.jc("ngModelChange",(function(e){return t.user.surname=e})),I.ac(),I.ac(),I.bc(12,"mat-form-field",6),I.bc(13,"input",9),I.jc("ngModelChange",(function(e){return t.user.dni=e})),I.ac(),I.ac(),I.bc(14,"mat-form-field",6),I.bc(15,"input",10),I.jc("ngModelChange",(function(e){return t.user.num=e})),I.ac(),I.ac(),I.bc(16,"mat-form-field",6),I.bc(17,"input",11),I.jc("ngModelChange",(function(e){return t.user.email=e})),I.ac(),I.ac(),I.bc(18,"mat-form-field",6),I.bc(19,"input",12),I.jc("ngModelChange",(function(e){return t.user.phone=e})),I.ac(),I.ac(),I.ac(),I.bc(20,"button",13),I.jc("click",(function(e){return t.editUser()})),I.Vc(21,"Guardar"),I.ac(),I.ac(),I.ac(),I.bc(22,"mat-tab",14),I.bc(23,"mat-card-content",5),I.bc(24,"form"),I.bc(25,"mat-form-field",6),I.bc(26,"input",15),I.jc("ngModelChange",(function(e){return t.user.userName=e})),I.ac(),I.ac(),I.Tc(27,Ne,2,3,"mat-checkbox",16),I.Wb(28,"br"),I.bc(29,"mat-checkbox",17),I.jc("ngModelChange",(function(e){return t.user.receiveMail=e})),I.Vc(30,"Recibir notificaciones al correo electr\xf3nico "),I.ac(),I.Wb(31,"br"),I.bc(32,"mat-checkbox",18),I.jc("ngModelChange",(function(e){return t.user.sectorRef=e})),I.Vc(33,"Referente "),I.ac(),I.Wb(34,"br"),I.bc(35,"mat-checkbox",19),I.jc("ngModelChange",(function(e){return t.user.infoView=e})),I.Vc(36,"Visualizar mensajes de informaci\xf3n de tickets "),I.ac(),I.ac(),I.bc(37,"button",13),I.jc("click",(function(e){return t.editUser()})),I.Vc(38,"Guardar"),I.ac(),I.ac(),I.ac(),I.bc(39,"mat-tab",20),I.bc(40,"mat-card-content",5),I.bc(41,"form"),I.bc(42,"mat-form-field",6),I.bc(43,"input",21),I.jc("ngModelChange",(function(e){return t.user.password=e})),I.ac(),I.ac(),I.Tc(44,Fe,2,2,"mat-form-field",22),I.Tc(45,Ue,2,2,"mat-form-field",22),I.ac(),I.bc(46,"button",13),I.jc("click",(function(e){return t.editUser()})),I.Vc(47,"Guardar"),I.ac(),I.ac(),I.ac(),I.Tc(48,Ee,10,9,"mat-tab",23),I.ac(),I.ac(),I.ac(),I.ac()),2&e&&(I.Gb(1),I.uc("ngIf",!t.isNew),I.Gb(1),I.vc("fxFlex.gt-sm",1==t.isNew?100:50),I.Gb(7),I.uc("readonly",!t.isAdmin&&!t.isUser)("ngModel",t.user.name),I.Gb(2),I.uc("readonly",!t.isAdmin&&!t.isUser)("ngModel",t.user.surname),I.Gb(2),I.uc("readonly",!t.isAdmin&&!t.isUser)("ngModel",t.user.dni),I.Gb(2),I.uc("readonly",!t.isAdmin&&!t.isUser)("ngModel",t.user.num),I.Gb(2),I.uc("readonly",!t.isAdmin&&!t.isUser)("ngModel",t.user.email),I.Gb(2),I.uc("readonly",!t.isAdmin&&!t.isUser)("ngModel",t.user.phone),I.Gb(7),I.uc("readonly","ROLE_ADMIN"!=t.identity.role)("ngModel",t.user.userName),I.Gb(1),I.uc("ngIf",!t.isNew),I.Gb(2),I.uc("ngModel",t.user.receiveMail)("color","primary")("disabled",!t.isAdmin&&!t.isUser),I.Gb(3),I.uc("ngModel",t.user.sectorRef)("color","primary")("disabled",!t.isAdmin),I.Gb(3),I.uc("ngModel",t.user.infoView)("color","primary")("disabled",!t.isAdmin&&!t.isUser),I.Gb(8),I.uc("readonly",!t.isUser)("ngModel",t.user.password),I.Gb(1),I.uc("ngIf",!t.isNew),I.Gb(1),I.uc("ngIf",!t.isNew),I.Gb(3),I.uc("ngIf",t.isUser&&"ROLE_REQUESTER"!=t.identity.role))},directives:[U.d,c.m,U.b,m.a,f.b,f.a,m.b,y.x,y.o,y.p,g.b,s.b,y.c,y.n,y.q,y.s,l.b,i.a,m.e,b.a,b.c,u.a,g.e,v.a,c.l,E.p,o.d],encapsulation:2}),et),data:{title:"Nuevo usuario",breadcrumb:"NUEVO USUARIO"}},{path:"team/new",component:(Ze=function(){function e(t,n,c,a,i){_classCallCheck(this,e),this._userService=t,this._teamService=n,this._route=c,this._router=a,this.snackBar=i,this.identity=this._userService.getIdentity(),this.token=this._userService.getToken(),this.url=S.a.url,this.team=new oe("","",[""],"null","",this.identity.company._id),this.isAdmin=!0,this.isNew=!0}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"onSubmit",value:function(){var e=this;this._teamService.add(this.token,this.team).subscribe((function(t){t.team&&(e.openSnackBar("Equipo creado","Cerrar"),e._router.navigate(["/user/team/",t.team._id]))}),(function(t){e.openSnackBar(t.message,"Cerrar")}))}},{key:"openSnackBar",value:function(e,t){this.snackBar.open(e,t,{duration:1e4})}}]),e}(),Ze.\u0275fac=function(e){return new(e||Ze)(I.Vb(x.a),I.Vb(re.a),I.Vb(a.a),I.Vb(a.g),I.Vb(_.a))},Ze.\u0275cmp=I.Pb({type:Ze,selectors:[["app-new-team-profile"]],features:[I.Fb([x.a,re.a])],decls:2,vars:2,consts:[["fxLayout","row wrap",4,"ngIf"],["fxLayout","row wrap"],["fxFlex","100","fxFlex.gt-md","300px","fxFlex.gt-sm","100"],[1,"profile-sidebar","mb-1","pb-0"],["class","propic text-center",4,"ngIf"],["id","attachment","type","file","accept","image/*",2,"display","none",3,"change"],[1,"profile-title","text-center","mb-1"],[1,"main-title"],[1,"subtitle","mb-05"],["fxFlex","100","fxFlex.gt-sm","100","fxFlex.gt-md","calc(100% - 300px)"],[1,"p-0"],[1,"mt-1"],[1,"form-row","agent-system"],[1,"col-xl-5","offset-xl-0"],["id","dataTable",1,"table-responsive","table"],["id","dataTable",1,"table","dataTable"],[4,"ngFor","ngForOf"],[1,"col-xl-2"],["role","group",1,"btn-group-vertical","d-block"],["class","btn btn-primary dark","role","button",3,"click",4,"ngIf"],["id","dataTable",1,"table","dataTable","my-0"],[1,"propic","text-center"],["src","assets/images/system/team-placeholder.png"],["mat-mini-fab","","color","accent","style","position: relative; left: -50px;top: 50px;",3,"click",4,"ngIf"],["mat-mini-fab","","color","accent",2,"position","relative","left","-50px","top","50px",3,"click"],[3,"src"],[3,"click"],["class","rounded-circle mr-2","width","30","height","30",3,"src",4,"ngIf"],["class","rounded-circle mr-2","width","30","height","30","src","assets/images/system/user-placeholder.png",4,"ngIf"],["width","30","height","30",1,"rounded-circle","mr-2",3,"src"],["width","30","height","30","src","assets/images/system/user-placeholder.png",1,"rounded-circle","mr-2"],["role","button",1,"btn","btn-primary","dark",3,"click"],[1,"full-width"],["matInput","","name","name","type","text","placeholder","Nombre",3,"ngModel","ngModelChange"],["mat-raised-button","","color","primary",3,"click"]],template:function(e,t){1&e&&(I.Tc(0,Je,38,9,"div",0),I.Tc(1,Ke,9,1,"div",0)),2&e&&(I.uc("ngIf",!t.isNew),I.Gb(1),I.uc("ngIf",t.isNew))},directives:[c.m,U.d,U.b,m.a,m.b,c.l,l.b,u.a,y.x,y.o,y.p,g.b,s.b,y.c,y.n,y.q],styles:[".img-profile[_ngcontent-%COMP%]{width:100%}.card-profile[_ngcontent-%COMP%]{margin-top:20px}.text-chat[_ngcontent-%COMP%]{overflow-x:auto}.acept[_ngcontent-%COMP%]{margin-right:15px}.active[_ngcontent-%COMP%]{background-color:#2d9df1;color:#fff}.newimg[_ngcontent-%COMP%]{display:none}.required[_ngcontent-%COMP%]{color:red;font-weight:700}"]}),Ze),data:{title:"Nuevo equipo",breadcrumb:"NUEVO EQUIPO"}}]}];n.d(t,"AppUserModule",(function(){return it}));var at,it=((at=function e(){_classCallCheck(this,e)}).\u0275mod=I.Tb({type:at}),at.\u0275inj=I.Sb({factory:function(e){return new(e||at)},imports:[[c.c,y.t,g.d,y.j,d.b,v.b,w.a,b.d,M.b,u.b,l.c,m.c,k.a,i.b,r.c,f.c,s.c,p.a,o.e,h.a,a.k.forChild(ct)]]}),at)}}]);